<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Sevattal" />



<meta name="description" content="Mysql 存储过程拼接多个HTML报告表格案例该篇文章不多做介绍，是按照前几篇存储过程拼接HTML的一个总结案例，也是记录第一次将存储过程写的这么长，并没有什么具体的学习意义。 可以做的优化有：1、将该存储过程各个报告模板的代码块写成单独的函数方便后期维护。 2、存储过程的变量字段进行调整长度。 3、减少On循环嵌套  注：若有更好的方法，请告知我">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql-Procedure-HTML-Report">
<meta property="og:url" content="http://yoursite.com/2021/03/06/Mysql-Procedure-HTML-Report/index.html">
<meta property="og:site_name" content="Sevattal">
<meta property="og:description" content="Mysql 存储过程拼接多个HTML报告表格案例该篇文章不多做介绍，是按照前几篇存储过程拼接HTML的一个总结案例，也是记录第一次将存储过程写的这么长，并没有什么具体的学习意义。 可以做的优化有：1、将该存储过程各个报告模板的代码块写成单独的函数方便后期维护。 2、存储过程的变量字段进行调整长度。 3、减少On循环嵌套  注：若有更好的方法，请告知我">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-06T10:34:58.000Z">
<meta property="article:modified_time" content="2022-11-18T01:11:42.868Z">
<meta property="article:author" content="Sevattal">
<meta property="article:tag" content="Mysql">
<meta property="article:tag" content="Procedure">
<meta property="article:tag" content="HTML">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Sevattal" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Mysql-Procedure-HTML-Report | Sevattal</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/my_img1.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about_me/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:923762269@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://sevattal.github.io" title="GitHub"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACL/" rel="tag">ACL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASM/" rel="tag">ASM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ansible/" rel="tag">Ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Backup/" rel="tag">Backup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bus/" rel="tag">Bus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CRM/" rel="tag">CRM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cisco/" rel="tag">Cisco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Config/" rel="tag">Config</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consul/" rel="tag">Consul</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Corosync-Pacemaker-CRM/" rel="tag">Corosync-Pacemaker-CRM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Crontab/" rel="tag">Crontab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DG/" rel="tag">DG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DM-Database/" rel="tag">DM Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DRBD/" rel="tag">DRBD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EIGRP/" rel="tag">EIGRP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EXP/" rel="tag">EXP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eureka/" rel="tag">Eureka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFmpeg/" rel="tag">FFmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FlashBack/" rel="tag">FlashBack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask-SQLalchemy/" rel="tag">Flask-SQLalchemy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GCC/" rel="tag">GCC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GateWay/" rel="tag">GateWay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HUAWEI/" rel="tag">HUAWEI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hystrix/" rel="tag">Hystrix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interview/" rel="tag">Interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JMeter/" rel="tag">JMeter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Job/" rel="tag">Job</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LVM/" rel="tag">LVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lightroom/" rel="tag">Lightroom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mail/" rel="tag">Mail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongDB/" rel="tag">MongDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql-Lock/" rel="tag">Mysql-Lock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MysqlDump/" rel="tag">MysqlDump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NAT/" rel="tag">NAT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NTP/" rel="tag">NTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nacos/" rel="tag">Nacos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Neo4j/" rel="tag">Neo4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Netty/" rel="tag">Netty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NetworkCard/" rel="tag">NetworkCard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nmap/" rel="tag">Nmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSPF/" rel="tag">OSPF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenFeign/" rel="tag">OpenFeign</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenSSH/" rel="tag">OpenSSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle-RAC/" rel="tag">Oracle RAC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle-Inspection/" rel="tag">Oracle-Inspection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle-Name/" rel="tag">Oracle-Name</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PGPool-II/" rel="tag">PGPool-II</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgres/" rel="tag">Postgres</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgres-PGPool-II/" rel="tag">Postgres+PGPool-II</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgres-Copy/" rel="tag">Postgres-Copy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Procedure/" rel="tag">Procedure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/" rel="tag">RAC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RMAN/" rel="tag">RMAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rancher/" rel="tag">Rancher</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-AOF/" rel="tag">Redis-AOF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-Cluster/" rel="tag">Redis-Cluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-Copy/" rel="tag">Redis-Copy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-Memory/" rel="tag">Redis-Memory</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-RDB/" rel="tag">Redis-RDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-Sentinel/" rel="tag">Redis-Sentinel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Regedit/" rel="tag">Regedit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Restore/" rel="tag">Restore</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ribbon/" rel="tag">Ribbon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Route/" rel="tag">Route</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SNMP/" rel="tag">SNMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/" rel="tag">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STP/" rel="tag">STP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrapy/" rel="tag">Scrapy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sentinel/" rel="tag">Sentinel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ShareDisk/" rel="tag">ShareDisk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sleuth/" rel="tag">Sleuth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Security/" rel="tag">Spring Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stream/" rel="tag">Stream</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Supervisor/" rel="tag">Supervisor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swap/" rel="tag">Swap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Switch/" rel="tag">Switch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TinyProxy/" rel="tag">TinyProxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/" rel="tag">Tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trigger/" rel="tag">Trigger</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USB/" rel="tag">USB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VLAN/" rel="tag">VLAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VMware/" rel="tag">VMware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VTP/" rel="tag">VTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Video-Clip/" rel="tag">Video-Clip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XtraBackup/" rel="tag">XtraBackup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yaml/" rel="tag">Yaml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zabbix/" rel="tag">Zabbix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/" rel="tag">Zookeeper</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://sevattal.github.com/">GitHub</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">乌拉乌拉乌拉乌拉乌拉乌拉</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/my_img1.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about_me/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:923762269@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://sevattal.github.io" title="GitHub"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-Mysql-Procedure-HTML-Report" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/03/06/Mysql-Procedure-HTML-Report/" class="article-date">
      <time datetime="2021-03-06T10:34:58.000Z" itemprop="datePublished">2021-03-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mysql-Procedure-HTML-Report
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Procedure/" rel="tag">Procedure</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Mysql-存储过程拼接多个HTML报告表格案例"><a href="#Mysql-存储过程拼接多个HTML报告表格案例" class="headerlink" title="Mysql 存储过程拼接多个HTML报告表格案例"></a>Mysql 存储过程拼接多个HTML报告表格案例</h1><p>该篇文章不多做介绍，是按照前几篇存储过程拼接HTML的一个总结案例，也是记录第一次将存储过程写的这么长，并没有什么具体的学习意义。</p>
<h2 id="可以做的优化有："><a href="#可以做的优化有：" class="headerlink" title="可以做的优化有："></a>可以做的优化有：</h2><pre><code>1、将该存储过程各个报告模板的代码块写成单独的函数方便后期维护。
2、存储过程的变量字段进行调整长度。
3、减少On循环嵌套
</code></pre>
<p><label style="color: red"><strong>注：若有更好的方法，请告知我</strong></label></p>
<span id="more"></span>

<h2 id="以下为存储过程源代码"><a href="#以下为存储过程源代码" class="headerlink" title="以下为存储过程源代码"></a>以下为存储过程源代码</h2><pre><code>CREATE PROCEDURE contactHtml(
IN orderCode VARCHAR(255),
IN orderType INT,
OUT pReturn TEXT
)
BEGIN
    /*
        1、金属材料性能检测委托单
        2、复合材料性能检测委托单
        3、金属加工委托单
        4、尺寸检测委托单
        5、复合材料加工委托单
        6、振动试验检测任务委托单
        7、物理性能金属、复材委托单
        8、高分子材料测试委托单
        9、化学成分测试委托单
        10、腐蚀与环境性能委托单
        11、失效分析委托单
        12、结构强度测试委托单
        13、紧固件性能测试委托单
    */
    /*----------------------------------------------------------------------------------------------------------------------------------------*/
    -- 1、金属材料性能检测委托单
    IF orderType = 1 THEN
    BEGIN
        -- 委托单主表部分
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 备注
        DECLARE note VARCHAR(255);
        
        -- 材料样品表部分
        -- 判断材料ID是否为0
        DECLARE countMaterial INT;
        -- 材料ID
        DECLARE materialID INT;
        -- 材料名称
        DECLARE material VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);
        -- 材料规格
        DECLARE ticknessDiameter VARCHAR(255);
        -- 品种
        DECLARE form_material VARCHAR(255);
        -- 材料炉批号
        DECLARE batchNo varchar(255);
        -- 材料热处理状态
        DECLARE condition_material VARCHAR(255);
        -- 技术状态
        DECLARE technicalState VARCHAR(255);
        -- 试样类型
        DECLARE type_material VARCHAR(255);
        -- 试样尺寸
        DECLARE dimension VARCHAR(255);
        -- 试样数量
        DECLARE quantity_material VARCHAR(255);
        -- 试样编号 暂时没有使用
        DECLARE specimenNumber VARCHAR(255);
        
        -- 试验要求
        -- 检测项目
        DECLARE testingItem TEXT DEFAULT &#39;&#39;;
        -- 检测标准
        DECLARE _standard TEXT DEFAULT &#39;&#39;;
        -- 加载及测量参数
        DECLARE loadingAndMeasurement TEXT DEFAULT &#39;&#39;;
        -- 试验环境
        DECLARE _environment TEXT DEFAULT &#39;&#39;;
        
        -- 存储过程存放变量部分
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML余料处理与任务产品处理部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML任务名称部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 存放材料部分
        DECLARE htmlOrder4 TEXT DEFAULT &#39;&#39;;
        -- 存放工作内容部分
        DECLARE htmlOrder5 TEXT DEFAULT &#39;&#39;;
        DECLARE done INT DEFAULT 0;
        -- 获取试样信息
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139,&#39;&#39;),IFNULL(SKF140,&#39;&#39;),IFNULL(SKF141,&#39;&#39;),
        IFNULL(SKF142,&#39;&#39;),IFNULL(SKF143,&#39;&#39;),IFNULL(SKF144,&#39;&#39;),IFNULL(SKF279,&#39;&#39;),
        IFNULL(SKF148,&#39;&#39;),IFNULL(SKF150,0),IFNULL(SKF280, &#39;&#39;) 
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        -- 主子游标循环判断,指定循环结束时的返回值
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;), IFNULL(SKF220, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate, note
        FROM SKT8 WHERE SKF68 = orderCode;
        -- 设置HTML订单前半部分
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!doctype html&gt;
            &lt;html&gt;
            &lt;head&gt;
            &lt;meta charset=&quot;gb2312&quot;&gt;
            &lt;title&gt;金属材料性能检测委托单&lt;/title&gt;
            &lt;style type=&quot;text/css&quot;&gt;
                body,td,h6 &#123;
                    font-family: Verdana, 
                    Arial, Helvetica, 
                    sans-serif;
                    font-size: 18px;
                    color: #1d1007; 
                    line-height:16px;
                    font-weight: 500;
                    text-align: center;
                &#125;
                th,tr &#123;
                    font-family: Verdana, 
                    Arial, Helvetica, 
                    sans-serif;
                    font-size: 18px;
                    color: #1d1007; 
                    line-height:16px;
                    font-weight: 500;
                    text-align: center;
                    height: 40px;
                &#125;
            &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table width=&quot;100%&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;th style=&quot;width: 15%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/th&gt;
                            &lt;th style=&quot;width: 35%;&quot; colspan=&quot;2&quot;&gt;&#39;,client,&#39;&lt;/th&gt;
                            &lt;th style=&quot;width: 15%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/th&gt;
                            &lt;th colspan=&quot;4&quot; colspan=&quot;2&quot;&gt;&#39;,contact,&#39;&lt;/th&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;th style=&quot;width: 15%;&quot;&gt;地址&lt;br&gt;Address&lt;/th&gt;
                            &lt;th style=&quot;width: 35%;&quot; colspan=&quot;2&quot;&gt;&#39;,address,&#39;&lt;/th&gt;
                            &lt;th style=&quot;width: 15%;&quot;&gt;联系方式&lt;br&gt;Contact Number&lt;/th&gt;
                            &lt;th colspan=&quot;4&quot; colspan=&quot;2&quot;&gt;&#39;,contactNumber,&#39;&lt;/th&gt;
                        &lt;/tr&gt;&#39;);
            -- 样品处理部分
            IF productHandling = &#39;委托处理&#39; THEN
                SET htmlOrder2 = 
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;;
            ELSEIF productHandling = &#39;自取&#39; THEN
                SET htmlOrder2 = 
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;;
            ELSEIF productHandling = &#39;邮寄&#39; THEN
                SET htmlOrder2 =
                CONCAT( 
                    &#39;&lt;tr&gt;
                        &lt;th style=&quot;width: 15%;&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/th&gt;
                        &lt;th  colspan=&quot;5&quot;&gt;
                            &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                                &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄(邮寄地址):&#39;,productPostalAddress,&#39;&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                                &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;&#39;);
            -- 若为空，或者值不对，只显示表格信息
            ELSE
                SET htmlOrder2 = 
                &#39;	&lt;tr&gt;
                        &lt;th style=&quot;width: 15%;&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/th&gt;
                        &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;&#39;;
            END IF;
            -- 去报告方式
            IF reportHandling = &#39;自取&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;取报告方式&lt;br&gt;Report pick up&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真(号码)&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;	&#39;);
            ELSEIF reportHandling = &#39;传真&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;取报告方式&lt;br&gt;Report pick up&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真(号码)&quot;  checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;	&#39;);
            ELSEIF reportHandling = &#39;邮寄&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;取报告方式&lt;br&gt;Report pick up&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真(号码)&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot; checked=&quot;checked&quot;&gt;邮件(邮寄地址):&#39;,reportPostalAddress,&#39;&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;	&#39;);
            ELSE
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;取报告方式&lt;br&gt;Report pick up&lt;/th&gt;
                    &lt;th  colspan=&quot;5&quot;&gt;
                        &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真(号码)&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/p&gt;&lt;/th&gt;
                                    &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;	&#39;);
            END IF;
            -- 任务名称部分
            SET htmlOrder3 = 
            CONCAT(
            &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/th&gt;
                    &lt;th&gt;&#39;,taskName,&#39;&lt;/th&gt;
                    &lt;th&gt;项目令号&lt;br&gt;Project Number&lt;/th&gt;
                    &lt;th&gt;&#39;,projectNumber,&#39;&lt;/th&gt;
                    &lt;th&gt;任务编号&lt;br&gt;Task Number&lt;/th&gt;
                    &lt;th&gt;&#39;,taskNumber,&#39;&lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th&gt;收料日期&lt;br&gt;Received Date&lt;/th&gt;
                    &lt;th&gt;&#39;,receivedDate,&#39;&lt;/th&gt;
                    &lt;th&gt;要求完成日期&lt;br&gt;Required Date&lt;/th&gt;
                    &lt;th&gt;&#39;,requiredDate,&#39;&lt;/th&gt;
                    &lt;th&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/th&gt;
                    &lt;th&gt;&#39;,agreedDate,&#39;&lt;/th&gt;
                &lt;/tr&gt;&#39;);
        -- 试样信息部分拼接
        -- 获取材料ID数量
        SELECT COUNT(SKF137) INTO countMaterial  FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial != 0 THEN
            OPEN cur_1 ;
            FETCH cur_1  INTO 
            materialID, material, grades ,ticknessDiameter ,form_material ,batchNo ,condition_material ,
            technicalState ,type_material ,dimension ,quantity_material ,specimenNumber;
            WHILE done != 1 DO
                -- 检测项目
                -- 检测标准
                -- 加载及测量参数
                -- 试验环境
                SELECT IFNULL(GROUP_CONCAT(SKF175),&#39;&#39;), IFNULL(GROUP_CONCAT(SKF174),&#39;&#39;),IFNULL(GROUP_CONCAT(SKF187),&#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF173),&#39;&#39;)
                INTO testingItem , _standard ,loadingAndMeasurement , _environment FROM SKT10
                WHERE SKF388 = materialID;
                SET htmlOrder4 =
                CONCAT(htmlOrder4,
                &#39;&lt;tr&gt;
                    &lt;th style=&quot;width: 15%;&quot; rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Specimen Info.&lt;/th&gt;
                    &lt;th&gt;材料名称/牌号&lt;br&gt;Material/Grades&lt;/th&gt;
                    &lt;th&gt;&#39;,material,&#39;/&#39;,grades,&#39;&lt;/th&gt;
                    &lt;th&gt;材料规格&lt;br&gt;Thickness or Diameter&lt;/th&gt;
                    &lt;th colspan=&quot;2&quot;&gt;&#39;,ticknessDiameter,&#39;&lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th&gt;品种&lt;br&gt;Form&lt;/th&gt;
                    &lt;th&gt;&#39;,form_material,&#39;&lt;/th&gt;
                    &lt;th&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/th&gt;
                    &lt;th colspan=&quot;2&quot;&gt;&#39;,batchNo,&#39;&lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th&gt;材料热处理状态&lt;br&gt;Condition&lt;/th&gt;
                    &lt;th&gt;&#39;,condition_material,&#39;&lt;/th&gt;
                    &lt;th&gt;技术状态&lt;br&gt;Technical State&lt;/th&gt;
                    &lt;th colspan=&quot;2&quot;&gt;&#39;,technicalState,&#39;&lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th&gt;试样类型&lt;br&gt;Type&lt;/th&gt;
                    &lt;th&gt;试样尺寸&lt;br&gt;Dimension&lt;/th&gt;
                    &lt;th&gt;试样数量&lt;br&gt;Quantity&lt;/th&gt;
                    &lt;th colspan=&quot;2&quot;&gt;试样编号&lt;br&gt;Specimen Number&lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th&gt;&#39;,type_material,&#39;&lt;/th&gt;
                    &lt;th&gt;&#39;,dimension,&#39;&lt;/th&gt;
                    &lt;th&gt;&#39;,quantity_material,&#39;&lt;/th&gt;
                    &lt;th colspan=&quot;2&quot;&gt;&#39;,specimenNumber,&#39;&lt;/th&gt;
                &lt;/tr&gt;		
                &lt;tr&gt;
                    &lt;th rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Technical Requirements&lt;/th&gt;
                    &lt;th colspan=&quot;5&quot;&gt;
                        试验及技术要求(检测项目，检测标准，加载及测量参数，试验环境等)&lt;br&gt;
                        Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                    &lt;/th&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th style=&quot;height: 100px; text-align: left;&quot; colspan=&quot;5&quot;&gt;
                        &lt;p&gt;检测项目：&#39;,testingItem,&#39;&lt;/p&gt;
                        &lt;p&gt;检测标准：&#39;,_standard,&#39;&lt;/p&gt;
                        &lt;p&gt;加载及测量参数：&#39;,loadingAndMeasurement,&#39;&lt;/p&gt;
                        &lt;p&gt;试验环境：&#39;,_environment,&#39;&lt;/p&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;);
                FETCH cur_1  INTO 
                materialID, material, grades ,ticknessDiameter ,form_material ,batchNo ,condition_material ,
                technicalState ,type_material ,dimension ,quantity_material ,specimenNumber;
            END WHILE;
            CLOSE cur_1;
        ELSE
            SET htmlOrder4 =
            CONCAT(htmlOrder4,
            &#39;&lt;tr&gt;
                &lt;th style=&quot;width: 15%;&quot; rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Specimen Info.&lt;/th&gt;
                &lt;th&gt;材料名称/牌号&lt;br&gt;Material/Grades&lt;/th&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;材料规格&lt;br&gt;Thickness or Diameter&lt;/th&gt;
                &lt;th colspan=&quot;2&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th&gt;品种&lt;br&gt;Form&lt;/th&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/th&gt;
                &lt;th colspan=&quot;2&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th&gt;材料热处理状态&lt;br&gt;Condition&lt;/th&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;技术状态&lt;br&gt;Technical State&lt;/th&gt;
                &lt;th colspan=&quot;2&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th&gt;试样类型&lt;br&gt;Type&lt;/th&gt;
                &lt;th&gt;试样尺寸&lt;br&gt;Dimension&lt;/th&gt;
                &lt;th&gt;试样数量&lt;br&gt;Quantity&lt;/th&gt;
                &lt;th colspan=&quot;2&quot;&gt;试样编号&lt;br&gt;Specimen Number&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th&gt;&lt;/th&gt;
                &lt;th colspan=&quot;2&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;		
            &lt;tr&gt;
                &lt;th rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Technical Requirements&lt;/th&gt;
                &lt;th colspan=&quot;5&quot;&gt;
                    试验及技术要求(检测项目，检测标准，加载及测量参数，试验环境等)&lt;br&gt;
                    Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                &lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;th style=&quot;height: 100px; text-align: left;&quot; colspan=&quot;5&quot;&gt;
                    &lt;p&gt;检测项目：&lt;/p&gt;
                    &lt;p&gt;检测标准：&lt;/p&gt;
                    &lt;p&gt;加载及测量参数：&lt;/p&gt;
                    &lt;p&gt;试验环境：&lt;/p&gt;
                &lt;/th&gt;
            &lt;/tr&gt;&#39;);
        END IF;
        -- 尾部
        SET htmlOrder5 = 
        CONCAT(htmlOrder5, 
        &#39;			&lt;tr&gt;
                        &lt;th style=&quot;text-align: left; height: 80px;&quot; colspan=&quot;6&quot;&gt;
                            &lt;p&gt;委托单位代表 Client:&lt;/p&gt;
                            &lt;p&gt;签字 Signature:&lt;/p&gt;
                            &lt;p&gt;日期 Date:&lt;/p&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;th style=&quot;text-align: left; height: 80px;&quot; colspan=&quot;6&quot;&gt;
                            &lt;p&gt;承制单位代表 Undertaking Unit:&lt;/p&gt;
                            &lt;p&gt;签字 Signature:&lt;/p&gt;
                            &lt;p&gt;日期 Date:&lt;/p&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;th&gt;承诺&lt;br&gt;Promise&lt;/th&gt;
                        &lt;th style=&quot;text-align: left&quot;  colspan=&quot;5&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.&lt;br&gt;
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;);
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3,htmlOrder4,htmlOrder5);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------------------------------*/
    -- 2、复合材料性能检测委托单
    ELSEIF orderType = 2 THEN
    BEGIN
        -- 委托单位Client
        DECLARE client VARCHAR(255);
        -- 邮寄地址
        DECLARE postalAddress VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 联系方式
        DECLARE contactInformation VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 试验件接收日期
        DECLARE receivedOn VARCHAR(255);
        -- 要求完成日期
        DECLARE finishBefore VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 试验件处理
        DECLARE afterTest VARCHAR(255);
        -- 去报告方式
        DECLARE reportPickUp VARCHAR(255);
        -- 试验标准是否一致
        DECLARE isTestConsistent VARCHAR(255);
        -- 试验要求和标准不一致说明
        DECLARE differenceRequirements VARCHAR(255);
        -- 试验环境
        DECLARE testEnvironment VARCHAR(255);
        -- 试验件状态调节
        DECLARE specimenCondition VARCHAR(255);
        -- 试验件环境调节要求
        DECLARE specimenConditionRequired VARCHAR(255);
        -- 其他要求
        DECLARE otherRequirements VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 材料牌号
        DECLARE materialGrade VARCHAR(255);
        -- 预浸料名称
        DECLARE prepregName VARCHAR(255);
        -- 夹层结构
        DECLARE sandwichStructure VARCHAR(255);
        -- 面板信息
        DECLARE panelInformation VARCHAR(255);
        -- 其他信息
        DECLARE otherInformation VARCHAR(255);
        -- 测试类型
        DECLARE testingType VARCHAR(255);
        -- 试验件数量
        DECLARE specimenQuantity VARCHAR(255);
        -- 试验件编号
        DECLARE specimenNumber VARCHAR(255);
        -- 名义尺寸
        DECLARE nominalDimension VARCHAR(255);
        -- 铺层顺序
        DECLARE plyConfiguration VARCHAR(255);
        -- 检测标准
        DECLARE testingStandard VARCHAR(255);
        -- 检测项目
        DECLARE testingItem VARCHAR(255);
        -- 判断材料表是否为空
        DECLARE countMaterial INT;
        -- 判断任务要求表是否为空
        DECLARE countTask INT;
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 游标定义
        DECLARE done INT DEFAULT 0;
        -- 定义材料游标
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137,&#39;&#39;),IFNULL(SKF139,&#39;&#39;), IFNULL(SKF145, &#39;&#39;), IFNULL(SKF411,&#39;&#39;), 
        IFNULL(SKF412,&#39;&#39;), IFNULL(SKF146, &#39;&#39;) FROM SKT9
        WHERE SKF362 = orderCode AND SKF524 != 1;
        -- 定义任务要求表游标
        DECLARE cur_2 CURSOR FOR
        SELECT IFNULL(SKF169, &#39;&#39;),IFNULL(SKF171, &#39;&#39;), IFNULL(SKF172, &#39;&#39;), IFNULL(SKF170, &#39;&#39;),
        IFNULL(SKF414, &#39;&#39;), IFNULL(SKF174, &#39;&#39;), IFNULL(SKF175, &#39;&#39;)
        FROM SKT10 WHERE SKF388 = materialID;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 委托单主表赋值
        SELECT IFNULL(SKF69,&#39;&#39;), IFNULL(SKF87,&#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF72 ,&#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;), IFNULL(SKF81, &#39;&#39;),
        IFNULL(SKF82, &#39;&#39;), IFNULL(SKF88, &#39;&#39;), IFNULL(SKF75, &#39;&#39;), IFNULL(SKF89, &#39;&#39;),
        IFNULL(SKF90, &#39;&#39;), IFNULL(SKF91, &#39;&#39;), IFNULL(SKF92, &#39;&#39;), IFNULL(SKF93, &#39;&#39;), 
        IFNULL(SKF94, &#39;&#39;) INTO client , postalAddress , contact , contactInformation ,
        taskName , taskNumber ,receivedOn ,finishBefore ,agreedDate ,afterTest ,reportPickUp ,
        isTestConsistent ,differenceRequirements ,testEnvironment ,specimenCondition ,
        specimenConditionRequired ,otherRequirements 
        FROM SKT8 WHERE SKF68 = orderCode;
        -- 设置HTML前半部分
        SET htmlOrder1 = 
        CONCAT(
        &#39;&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        &lt;head&gt;
            &lt;meta charset=&quot;gb2312&quot;&gt;
            &lt;title&gt;复合材料（夹层结构）性能检测委托单&lt;/title&gt;
            &lt;style type=&quot;text/css&quot;&gt;
            /*设置表格最外层边框实线*/
            /*solid为实线，dashed为虚线*/
            body&#123;
                font-size: 18px;
            &#125;
            div&#123;
             	width: 100%;
              	border-spacing: 0em;
                margin-left: 1px;
                border: 1px solid #220808;
                border-collapse: collapse;
            &#125;
            table&#123;
                width: 100%;
                border: 0px;
            &#125;
            .my_div1_1&#123;
                width: 100%;
                border: 2px dashed #220808;
            &#125;
            .my_td1_1&#123;
                width: 30%;
                text-align: left;
            &#125;
            .my_td1_2&#123;
                width: 80%;
                vertical-align: top;
                border-top: 0px;
                border-right: 0px;
                border-left: 0px;
                border-bottom: 2px dashed;
                text-align: left;
            &#125;
            .my_td2_1&#123;
                border-bottom: 2px dashed;
                border-right: 2px dashed;
                border-left: 0px;
                border-top: 0px;
                height: 50px;
            &#125;
            .my_td2_2&#123;
                border-top: 2px dashed;
                border-right: 2px dashed;
                border-bottom: 0px;
                border-left: 0px;
                height: 50px;
            &#125;
            .my_td3_1&#123;
                border-right: 2px dashed;
                border-left: 0px;
                border-top: 0px;
                border-bottom: 0px;
                height: 150px;
                text-align: center;
                /*文字顶格*/
                vertical-align: text-top;
                /*添加下划线*/
                text-decoration: underline;
                font-size: 20px;
                font-weight: 550;
            &#125;
            &lt;/style&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;div style=&quot;border: 2px dashed; font-size: 9pt;&quot;&gt;
                请将表格中以“*”标记的项目填写完整后用电子邮件发送该表格，并为所提供的任何潜在有害物质提供一份MSDS/GHS。我们将在收到&lt;br&gt;您的样品后，向您发送电子邮件，确认收样。&lt;br&gt;
                Please fill out the items with “*” in this form and email this form to us including an MSDS/GHS for any potentially hazardous materials&lt;br&gt; submitted. You will receive an emailed confirmation after your samples have been received.
            &lt;/div&gt;
            
            &lt;label&gt;委托信息 Request Info:&lt;/label&gt;
            &lt;div&gt;
                &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td1_1&quot;&gt;*委托单位 Client:&lt;/td&gt;
                        &lt;td class=&quot;my_td1_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,client,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td1_1&quot;&gt;*邮寄地址 Postal Address&lt;/td&gt;
                        &lt;td class=&quot;my_td1_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,postalAddress,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td1_1&quot;&gt;*联系人 Contact:&lt;/td&gt;
                        &lt;td class=&quot;my_td1_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,contact,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td1_1&quot;&gt;*联系方式 Contact information&lt;/td&gt;
                        &lt;td class=&quot;my_td1_2&quot; style=&quot;border-bottom: 1px; border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,contactInformation,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;width: 20%; border-top: 2px solid;&quot;&gt;*任务名称 Task name&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-top: 2px solid;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;width: 20%; border-top: 2px solid;&quot;&gt;*任务编号 Task number&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px; border-top: 2px solid;&quot;&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*试验件接收日期&lt;br&gt;Received on&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;&#39;,receivedOn,&#39;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*要求完成日期&lt;br&gt;Finish before&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;&#39;,finishBefore,&#39;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        -- 拼接试验件处理部分
        IF afterTest = &#39;放弃&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*试验件后处理 After test&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;放弃&quot; checked=&quot;checked&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSEIF afterTest = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*试验件后处理 After test&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;放弃&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSEIF afterTest = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*试验件后处理 After test&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;放弃&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot;&gt;*试验件后处理 After test&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;放弃&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        END IF;
        
        -- 取报告方式拼接部分
        IF reportPickUp = &#39;自取&#39;  THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;*取报告方式 Report Pick up&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/table&gt;
            &lt;/div&gt;&#39;);
        ELSEIF reportPickUp =&#39;传真&#39;  THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;*取报告方式 Report Pick up&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot; checked=&quot;checked&quot;&gt;传真 Fax&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/table&gt;
            &lt;/div&gt;&#39;);
        ELSEIF reportPickUp = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;*取报告方式 Report Pick up&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/table&gt;
            &lt;/div&gt;&#39;);		
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;*取报告方式 Report Pick up&lt;/td&gt;				
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                        &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot; colspan=&quot;2&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/table&gt;
            &lt;/div&gt;&#39;);	
        END IF;
        -- 设置HTML试验件基本信息以及试验要求部分
        -- 判断材料是否为空
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9  WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID, materialGrade, prepregName, sandwichStructure,
            panelInformation,otherInformation;
            WHILE done != 1 DO
                 SET htmlOrder2 =
                 CONCAT(htmlOrder2,
                &#39;&lt;label&gt;试验件基本信息Specimen Information&lt;/label&gt;
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;width: 25%;&quot;&gt;材料牌号 Material Grade&lt;/td&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&#39;,materialGrade,&#39;&lt;/td&gt;					
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_1&quot;&gt;*预浸料名称（增强体/基体）&lt;br&gt; Prepregname (Reinforcement/Matrix)&lt;/td&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&#39;,prepregName,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_1&quot;&gt;*夹层结构芯子、面板信息&lt;/td&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&#39;,sandwichStructure,&#39;,&#39;,panelInformation,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;其他信息（other information）&lt;/td&gt;
                                &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot;&gt;&#39;,otherInformation,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                试验要求Testing Requirements：
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 18%; border-top: 0px;&quot;&gt;*测试类型&lt;br&gt;Testing Type&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 18%; border-top: 0px;&quot;&gt;*试验件数量（批X组X数量）&lt;br&gt;Specimen Quantity&lt;br&gt;(Batch × Lot × Quantity)&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;*试验件编号&lt;br&gt;Specimen Number:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;名义尺寸&lt;br&gt;Nominal Dimension:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;铺层顺序&lt;br&gt;Ply Configuration:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;*检测标准&lt;br&gt;Testing Standard:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px; border-right: 0px;&quot;&gt;*检测项目&lt;br&gt;Testing Item&lt;/td&gt;
                            &lt;/tr&gt;&#39;);
                -- 开始拼接任务要求部分
                SELECT COUNT(skf168) INTO countTask FROM SKT10 WHERE SKF388 = materialID;
                IF countTask &gt; 0 THEN
                    SET done = 0 ;
                    OPEN cur_2; 
                    FETCH cur_2 INTO testingType, specimenQuantity ,specimenNumber ,nominalDimension ,plyConfiguration ,
                    testingStandard ,testingItem ;
                    WHILE done != 1 DO
                        SET htmlOrder2 =
                        CONCAT(htmlOrder2,
                            &#39;&lt;tr&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,testingType,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,specimenQuantity,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,nominalDimension,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,plyConfiguration,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&#39;,testingStandard,&#39;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&#39;,testingItem,&#39;&lt;/td&gt;
                            &lt;/tr&gt;&#39;);
                        FETCH cur_2 INTO testingType,specimenQuantity ,specimenNumber ,nominalDimension ,plyConfiguration ,
                        testingStandard ,testingItem;
                    END WHILE;
                    CLOSE cur_2;
                ELSE
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;		&lt;tr&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
                            &lt;/tr&gt;&#39;);
                END IF;
                FETCH cur_1 INTO materialID, materialGrade, prepregName, sandwichStructure,
                panelInformation,otherInformation;
            END WHILE;
            CLOSE cur_1;
        ELSE
            SET htmlOrder2 = 
            &#39;&lt;label&gt;试验件基本信息Specimen Information&lt;/label&gt;
            &lt;div&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;width: 25%;&quot;&gt;材料牌号 Material Grade&lt;/td&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;					
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;my_td2_1&quot;&gt;*预浸料名称（增强体/基体）&lt;br&gt; Prepregname (Reinforcement/Matrix)&lt;/td&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;my_td2_1&quot;&gt;*夹层结构芯子、面板信息&lt;/td&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px;&quot;&gt;其他信息（other information）&lt;/td&gt;
                            &lt;td class=&quot;my_td2_1&quot; style=&quot;border-bottom: 0px; border-right: 0px;&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
                试验要求Testing Requirements：
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 18%; border-top: 0px;&quot;&gt;*测试类型Testing Type&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 18%; border-top: 0px;&quot;&gt;*试验件数量（批X组X数量）&lt;br&gt;Specimen Quantity&lt;br&gt;(Batch × Lot × Quantity)&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;*试验件编号&lt;br&gt;Specimen Number:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;名义尺寸&lt;br&gt;Nominal Dimension:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;铺层顺序&lt;br&gt;Ply Configuration:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px;&quot;&gt;*检测标准&lt;br&gt;Testing Standard:&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;width: 13%; border-top: 0px; border-right: 0px;&quot;&gt;*检测项目&lt;br&gt;Testing Item&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
                            &lt;/tr&gt;&#39;;
        END IF;
        -- HTML后半部分拼接
        -- 获取
        IF  isTestConsistent = &#39;是&#39; THEN
            SET htmlOrder3 = 
            &#39;&lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;  colspan=&quot;5&quot;&gt;备注：1、试验件如果需要粘贴加强片，请另外填写《复合材料试验件制备委托单》。
                &lt;br&gt;
                Notes：If tabbing was required, please fill in “Composite Specimen Preparation Order” additionally.
                &lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; colspan=&quot;5&quot;&gt;*试验要求是否和标准一致？ *Are the testing requirements consistent with the specified standards?&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;table width=&quot;100%&quot; height=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
                        &lt;td style=&quot;border-right: 2px dashed;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot; checked=&quot;checked&quot;&gt;是&lt;/td&gt;
                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot;&gt;否&lt;/td&gt;
                    &lt;/table&gt;
                &lt;/td&gt;
            &lt;/tr&gt;&#39;;
        ELSEIF isTestConsistent = &#39;否&#39; THEN
            SET htmlOrder3 = 
            &#39;&lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;  colspan=&quot;5&quot;&gt;备注：1、试验件如果需要粘贴加强片，请另外填写《复合材料试验件制备委托单》。
                &lt;br&gt;
                Notes：If tabbing was required, please fill in “Composite Specimen Preparation Order” additionally.
                &lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; colspan=&quot;5&quot;&gt;*试验要求是否和标准一致？ *Are the testing requirements consistent with the specified standards?&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;table width=&quot;100%&quot; height=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
                        &lt;td style=&quot;border-right: 2px dashed;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot;&gt;是&lt;/td&gt;
                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot; checked=&quot;checked&quot;&gt;否&lt;/td&gt;
                    &lt;/table&gt;
                &lt;/td&gt;
            &lt;/tr&gt;&#39;;
        ELSE
            SET htmlOrder3 = 
            &#39;&lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;  colspan=&quot;5&quot;&gt;备注：1、试验件如果需要粘贴加强片，请另外填写《复合材料试验件制备委托单》。
                &lt;br&gt;
                Notes：If tabbing was required, please fill in “Composite Specimen Preparation Order” additionally.
                &lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; colspan=&quot;5&quot;&gt;*试验要求是否和标准一致？ *Are the testing requirements consistent with the specified standards?&lt;/td&gt;
                &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;table width=&quot;100%&quot; height=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
                        &lt;td style=&quot;border-right: 2px dashed;&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot;&gt;是&lt;/td&gt;
                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot;&gt;否&lt;/td&gt;
                    &lt;/table&gt;
                &lt;/td&gt;
            &lt;/tr&gt;&#39;;
        END IF;
        IF specimenCondition = &#39;是&#39; THEN
            SET htmlOrder3 =
            CONCAT(htmlOrder3,
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; colspan=&quot;6&quot; style=&quot;border-right: 0px;&quot;&gt;*试验要求和标准不一致的说明*Please indicate the difference between the testing requirements and the specified standards.&lt;br&gt;ces &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验环境 Testing environment&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,testEnvironment,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验件状态调节 Specimen Condition&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;
                            1、试验件是否需要进行状态调节？If specimen condition was required？
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot; checked=&quot;checked&quot;&gt; 是 &amp;nbsp;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot;&gt; 否
                            &lt;br&gt;
                            2、如果需要进行试验件状态调节，明确试验件状态调节的环境要求。Please indicate the environments if specimen condition was required.&lt;br&gt; 
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-bottom: 0px;&quot;&gt;其他要求Other Requirements&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px; border-bottom: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,otherRequirements,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
        &lt;br&gt;&#39;);
        ELSEIF specimenCondition = &#39;否&#39; THEN
            SET htmlOrder3 = 
            CONCAT(htmlOrder3, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; colspan=&quot;6&quot; style=&quot;border-right: 0px;&quot;&gt;*试验要求和标准不一致的说明*Please indicate the difference between the testing requirements and the specified standards.&lt;br&gt;ces &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验环境 Testing environment&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,testEnvironment,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验件状态调节 Specimen Condition&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;
                            1、试验件是否需要进行状态调节？If specimen condition was required？
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot;&gt; 是 &amp;nbsp;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot; checked=&quot;checked&quot;&gt; 否
                            &lt;br&gt;
                            2、如果需要进行试验件状态调节，明确试验件状态调节的环境要求。Please indicate the environments if specimen condition was required.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-bottom: 0px;&quot;&gt;其他要求Other Requirements&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px; border-bottom: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,otherRequirements,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
        &lt;br&gt;&#39;);
        ELSE
            SET htmlOrder3 = 
            CONCAT(htmlOrder3, 
            &#39;		&lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; colspan=&quot;6&quot; style=&quot;border-right: 0px;&quot;&gt;*试验要求和标准不一致的说明*Please indicate the difference between the testing requirements and the specified standards.&lt;br&gt;ces &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验环境 Testing environment&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,testEnvironment,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;*试验件状态调节 Specimen Condition&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px;&quot; colspan=&quot;5&quot;&gt;
                            1、试验件是否需要进行状态调节？If specimen condition was required？
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;是&quot;&gt; 是 &amp;nbsp;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;否&quot;&gt; 否
                            &lt;br&gt;
                            2、如果需要进行试验件状态调节，明确试验件状态调节的环境要求。Please indicate the environments if specimen condition was required.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;my_td2_2&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-bottom: 0px;&quot;&gt;其他要求Other Requirements&lt;/td&gt;
                        &lt;td class=&quot;my_td2_2&quot; style=&quot;border-right: 0px; border-bottom: 0px;&quot; colspan=&quot;5&quot;&gt;&#39;,otherRequirements,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
        &lt;br&gt;&#39;);
        END IF;
        SET htmlOrder3 = 
        CONCAT(htmlOrder3,
        &#39;		&lt;div class=&quot;my_div1_1&quot;&gt;
                    &lt;p&gt;
                    委托方保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                    本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                    The client should be responsible for the truth of all documents and objects provided.&lt;br&gt;
                    Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information &lt;br&gt;provided by the client.
                    &lt;/p&gt;
                &lt;/div&gt;
                &lt;br&gt;
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;my_td3_1&quot;&gt;委托方代表 - Client Signature / Date:&lt;/td&gt;
                                &lt;td class=&quot;my_td3_1&quot; style=&quot;border-right: 0px;&quot;&gt;承接方代表 - SAMST Signature / Date:&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
            &lt;/body&gt;
        &lt;/html&gt;&#39;);
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------------------------------*/
    -- 3、金属加工委托单
    ELSEIF orderType = 3 THEN
    BEGIN
        -- 委托单主表部分
        -- 委托单位
        DECLARE CLIENT VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 余料处理
        DECLARE surplusHandling VARCHAR(255);
        -- 余料处理邮寄地址
        DECLARE surplusPostalAddress VARCHAR(255);
        -- 产品处理
        DECLARE productHandling VARCHAR(255);
        -- 产品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 备注
        DECLARE note VARCHAR(255);
        
        -- 材料样品表部分
        -- 序号
        DECLARE no_material INT DEFAULT 0;
        -- 名称
        DECLARE name_material VARCHAR(255);
        -- 品种
        DECLARE variety VARCHAR(255);
        -- 规格
        DECLARE specification VARCHAR(255);
        -- 尺寸
        DECLARE DIMENSION VARCHAR(255);
        -- 热处理要求
        DECLARE heatTreatment VARCHAR(255);
        -- 数量
        DECLARE quantity_material INT;
        
        -- 工作内容表内容部分
        -- 序号
        DECLARE no_task INT DEFAULT 0;
        -- 获取任务的ID
        DECLARE id_task INT;
        -- 产品
        DECLARE product VARCHAR(255);
        -- 数量
        DECLARE quantity_task INT;
        -- 下料图纸名称
        DECLARE samplingDrawingName VARCHAR(255);
        -- 下料图纸图号
        DECLARE samplingDrawingNumber VARCHAR(255);
        -- 加工图纸图号
        DECLARE machiningDrawingNumber VARCHAR(255);
        -- 编号要求
        DECLARE numberingRequirement VARCHAR(255);
        
        -- 存储过程存放变量部分
        -- 获得材料的总个数
        DECLARE sumMaterial INT;
        -- 获得工作内容的总个数
        DECLARE sumTask INT;
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML余料处理部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML产品处理部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单后半部分
        DECLARE htmlOrder4 TEXT DEFAULT &#39;&#39;;
        -- 存放HTM
        DECLARE htmlOrder5 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的材料样品部分
        DECLARE htmlMaterial TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的材料样品子信息部分;
        DECLARE htmlMaterial1 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的工作内容部分
        DECLARE htmlTask TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的工作内容子信息部分
        DECLARE htmlTask1 TEXT DEFAULT &#39;&#39;;
        -- 游标部分
        -- 循环游标判定变量
        DECLARE done INT DEFAULT 0;	
        -- 材料样品表游标部分
        DECLARE cur_1 CURSOR FOR 
        SELECT IFNULL(SKF138, &#39;&#39;), IFNULL(SKF141, &#39;&#39;), IFNULL(SKF140, &#39;&#39;), IFNULL(SKF148, &#39;&#39;),
        IFNULL(SKF149, &#39;&#39;), IFNULL(SKF150, &#39;&#39;) FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        -- 工作内容表游标部分
        DECLARE cur_2 CURSOR FOR 
        SELECT SKF207, SKF208, SKF209, SKF210, SKF211, SKF212, SKF213
        FROM SKT12 WHERE SKF391 = orderCode;
        
        -- 主子游标循环判断,指定循环结束时的返回值
      DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF95, &#39;&#39;), IFNULL(SKF96, &#39;&#39;), IFNULL(SKF97, &#39;&#39;), IFNULL(SKF98, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;), IFNULL(SKF220, &#39;&#39;) INTO 
        CLIENT, contact, address, contactNumber, surplusHandling, surplusPostalAddress, 
        productHandling, productPostalAddress, taskName, projectNumber, taskNumber, 
        receivedDate, requiredDate, agreedDate, note FROM SKT8 WHERE SKF68 = orderCode;
        -- 设置HTML订单前半部分
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!doctype html&gt;
            &lt;html&gt;
                &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;金属加工任务委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body,td,th,h6 &#123;
                        font-family: Verdana, 
                        Arial, Helvetica, 
                        sans-serif;
                        font-size: 18px;
                        color: #1d1007; 
                        line-height:14px;
                        font-weight: 700;&#125;
                    &lt;/style&gt;
                &lt;/head&gt;
                &lt;body&gt;
                    &lt;table width=&quot;100%&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;委托单位&lt;br&gt;Client&lt;/th&gt;
                            &lt;th style=&quot;width: 35%; text-align: center;&quot; colspan=&quot;3&quot;&gt;&#39;,Client,&#39;&lt;/th&gt;
                            &lt;th style=&quot;width: 15%; text-align: center;&quot; colspan=&quot;2&quot;&gt;联系人&lt;br&gt;Contact&lt;/th&gt;
                            &lt;th style=&quot;text-align: center;&quot;&gt;&#39;,Contact,&#39;&lt;/th&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;地址&lt;br&gt;Address&lt;/th&gt;
                            &lt;th style=&quot;width: 35%; text-align: center&quot; colspan=&quot;3&quot;&gt;&#39;,address,&#39;&lt;/th&gt;
                            &lt;th style=&quot;width: 15%; text-align: center;&quot; colspan=&quot;2&quot;&gt;联系方式&lt;br&gt;Contact Number&lt;/th&gt;
                            &lt;th style=&quot;text-align: center;&quot;&gt;&#39;,contactNumber,&#39;&lt;/th&gt;
                        &lt;/tr&gt;&#39;);
        
        
        -- 余料处理打勾部分
        IF surplusHandling = &#39;委托处理&#39; THEN
            SET htmlOrder2 = 
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;余料处理&lt;br&gt;Handling of&lt;br&gt;Surplus Materials&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                      &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;				
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                      &lt;/table&gt;
                &lt;/tr&gt;&#39;;
        ELSEIF surplusHandling = &#39;自取&#39; THEN
            SET htmlOrder2 = 
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;余料处理&lt;br&gt;Handling of&lt;br&gt;Surplus Materials&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                      &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;				
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                      &lt;/table&gt;
                &lt;/tr&gt;&#39;;
        ELSEIF surplusHandling = &#39;邮件&#39; THEN
            SET htmlOrder2 = 
            CONCAT(
                &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;余料处理&lt;br&gt;Handling of&lt;br&gt;Surplus Materials&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                      &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;				
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot; checked=&quot;checked&quot;&gt;邮件(邮寄地址):&#39;,surplusPostalAddress,&#39;&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                      &lt;/table&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder2 = 
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;余料处理&lt;br&gt;Handling of&lt;br&gt;Surplus Materials&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                      &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;				
                                &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/p&gt;&lt;/th&gt;
                             	&lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮件&quot;&gt;邮件(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                      &lt;/table&gt;
                &lt;/tr&gt;&#39;;
        END IF;
        -- 产品处理打勾部分
        IF productHandling = &#39;自取&#39; THEN
            SET htmlOrder3 =
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;产品处理&lt;br&gt;Product Handling&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                        &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;;
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder3 =
            CONCAT(
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;产品处理&lt;br&gt;Product Handling&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                        &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄(邮寄地址):&#39;,productPostalAddress,&#39;&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;);
        -- 若为空，或者值不对，只显示表格信息
        ELSE
            SET htmlOrder3 =
            &#39;&lt;tr&gt;
                  &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;产品处理&lt;br&gt;Product Handling&lt;/th&gt;
                  &lt;th style=&quot;text-align: center&quot; colspan=&quot;6&quot;&gt;
                        &lt;table width=&quot;85%&quot; border=&quot;0&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                          &lt;tbody&gt;
                            &lt;tr&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick-up&lt;/p&gt;&lt;/th&gt;
                              &lt;th scope=&quot;col&quot;&gt;&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄(邮寄地址):&lt;br&gt;Post(Postal Address)&lt;/p&gt;&lt;/th&gt;
                            &lt;/tr&gt;
                          &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/th&gt;
                &lt;/tr&gt;&#39;;
        END IF;
        
        -- 任务信息等
        SET htmlOrder4 = 
        CONCAT(
        &#39;&lt;tr&gt;
            &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;&#39;,taskName,&#39;&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot; colspan=&quot;2&quot;&gt;&#39;,projectNumber,&#39;&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/th&gt;
            &lt;th style=&quot;text-align: center;&quot;&gt;&#39;,taskNumber,&#39;&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot;&gt;收料日期&lt;br&gt;Received Date&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;&#39;,receivedDate,&#39;&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;要求完成日期&lt;br&gt;Required Date&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot; colspan=&quot;2&quot;&gt;&#39;,requiredDate,&#39;&lt;/th&gt;
            &lt;th style=&quot;width: 17%; text-align: center;&quot;&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/th&gt;
            &lt;th style=&quot;text-align: center;&quot; &gt;&#39;,agreedDate,&#39;&lt;/th&gt;
        &lt;/tr&gt;&#39;);
        -- 材料样品部分拼接
        -- 获取材料样品的总数
        SELECT COUNT(SKF138)  INTO sumMaterial FROM SKT9 
        WHERE SKF362 = orderCode AND SKF524 != 1;
        
        -- 初始化HTML材料样品
        -- 若材料样品是否为空
        IF sumMaterial != 0 THEN
            SET htmlMaterial = 
            CONCAT(
                &#39;&lt;tr&gt;
                    &lt;!--需要判断材料的数量，若材料种类数量为1则，rowspan=&quot;2&quot;--&gt;
                    &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot; rowspan=&quot;&#39;,sumMaterial+1,&#39;&quot;&gt;材料&lt;br&gt;Material&lt;/th&gt;
                    &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;序号&lt;br&gt;No.&lt;/th&gt;
                    &lt;th style=&quot;width: 15%; text-align: center;&quot;&gt;名称&lt;br&gt;Name&lt;/th&gt;
                    &lt;th style=&quot;width: 20%; text-align: center;&quot; colspan=&quot;2&quot;&gt;品种/规格/尺寸&lt;br&gt;Variety/Specification/Dimension&lt;/th&gt;
                    &lt;th style=&quot;width: 20%; text-align: center;&quot;&gt;热处理要求&lt;br&gt;Heat Treatment Requirements&lt;/th&gt;
                    &lt;th style=&quot;text-align: center;&quot;&gt;数量&lt;br&gt;Quantity&lt;/th&gt;
                &lt;/tr&gt;&#39;);
        ELSE 
                SET htmlMaterial = 
                CONCAT(
                &#39;&lt;!--材料信息部分--&gt;
                &lt;table width=&quot;100%&quot; border=&quot;1&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                        &lt;tr&gt;
                        &lt;!--需要判断材料的数量，若材料种类数量为1则，rowspan=&quot;2&quot;--&gt;
                        &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot; rowspan=&quot;&#39;,2 , &#39;&quot;&gt;材料&lt;br&gt;Material&lt;/th&gt;
                        &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;序号&lt;br&gt;No.&lt;/th&gt;
                        &lt;th style=&quot;width: 15%; text-align: center;&quot;&gt;名称&lt;br&gt;Name&lt;/th&gt;
                        &lt;th style=&quot;width: 20%; text-align: center;&quot;&gt;品种/规格/尺寸&lt;br&gt;Variety/Specification/Dimension&lt;/th&gt;
                        &lt;th style=&quot;width: 20%; text-align: center;&quot;&gt;热处理要求&lt;br&gt;Heat Treatment Requirements&lt;/th&gt;
                        &lt;th style=&quot;text-align: center;&quot;&gt;数量&lt;br&gt;Quantity&lt;/th&gt;
                        &lt;/tr&gt;&#39;);
        END IF;
        -- 开启材料游标
        OPEN cur_1;
        WHILE done != 1 DO
            FETCH cur_1 INTO name_material, variety, specification, 
            DIMENSION, heatTreatment, quantity_material;
            -- 设置序号加 1
            SET no_material = no_material + 1;
            -- 设置HTML材料样品子信息部分
            IF no_material &lt;= sumMaterial THEN
                SET htmlMaterial1 = 
                CONCAT(htmlMaterial1,
                &#39;&lt;tr&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, no_material, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, name_material, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot; colspan=&quot;2&quot;&gt;&#39;,variety, &#39; /&#39;, specification, &#39; /&#39;, DIMENSION,&#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, heatTreatment, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, quantity_material, &#39;&lt;/th&gt;
                 &lt;/tr&gt;&#39;
                );
            END IF;
        END WHILE;
        -- 若材料总数为0，则新增一行空数据
        IF sumMaterial = 0 THEN
            SET htmlMaterial1 = 
            &#39;&lt;tr&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot; colspan=&quot;2&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;&#39;;
        END IF;
        -- 开始拼接材料部分
        SET htmlMaterial = CONCAT(htmlMaterial, htmlMaterial1);
        -- 关闭材料游标
        CLOSE cur_1;
        -- 回复done默认值
        SET done = 0;
        -- 工作内容部分拼接
        -- 判定工作内容的行数
        SELECT COUNT(SKF208)  INTO sumTask FROM SKT12 
        WHERE SKF391 = orderCode;
        -- 初始化HTML工作内容表
        IF sumTask != 0 THEN
            SET htmlTask = 
            CONCAT(
            &#39;&lt;tr&gt;
                &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot; rowspan=&quot;&#39;, sumTask + 1, &#39;&quot;&gt;工作内容&lt;br&gt;Task&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;序号&lt;br&gt;No.&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;产品&lt;br&gt;Product&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;数量&lt;br&gt;Quantity&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;下料图纸&lt;br&gt;名称/图号&lt;br&gt;Name/Numberof&lt;br&gt;Sampling Drawing&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;加工图纸&lt;br&gt;名称/图号&lt;br&gt;Name/Number&lt;br&gt;ofMaching&lt;br&gt;Drawing&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;编号要求&lt;br&gt;Numbering&lt;br&gt;Requirement&lt;/th&gt;
            &lt;/tr&gt;&#39;);
        ELSE
            SET htmlTask = 
            CONCAT(
            &#39;&lt;tr&gt;
                &lt;th style=&quot;width: 15%; height: 40px; text-align: center;&quot; rowspan=&quot;2&quot;&gt;工作内容&lt;br&gt;Task&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;序号&lt;br&gt;No.&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;产品&lt;br&gt;Product&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;数量&lt;br&gt;Quantity&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;下料图纸&lt;br&gt;名称/图号&lt;br&gt;Name/Numberof&lt;br&gt;Sampling Drawing&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;加工图纸&lt;br&gt;名称/图号&lt;br&gt;Name/Number&lt;br&gt;ofMaching&lt;br&gt;Drawing&lt;/th&gt;
                &lt;th style=&quot;width: 10%; text-align: center;&quot;&gt;编号要求&lt;br&gt;Numbering&lt;br&gt;Requirement&lt;/th&gt;
            &lt;/tr&gt;&#39;);
        END IF;
        IF sumTask != 0 THEN
            -- 开启工作内容表游标
            OPEN cur_2;
            WHILE done != 1 DO
                    FETCH cur_2 INTO 
                    id_task, product, quantity_task, samplingDrawingName, samplingDrawingNumber,
                    machiningDrawingNumber, numberingRequirement;
                    -- 设置序号加1
                    SET no_task = no_task + 1;
                    IF no_task &lt;= sumTask THEN
                        -- 生成工作内容表的基础信息
                        SET htmlTask1 = 
                        CONCAT(htmlTask1,
                        &#39;&lt;tr&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, no_task, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, product, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, quantity_task, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, samplingDrawingName ,&#39;/&#39;,samplingDrawingNumber, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, machiningDrawingNumber, &#39;&lt;/th&gt;
                            &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&#39;, numberingRequirement, &#39;&lt;/th&gt;
                        &lt;/tr&gt;&#39;);
                    END IF;
            END WHILE;
            -- 关闭工作内容表游标
            CLOSE cur_2;
        ELSE 
        -- 如果工作内容为0，则添加一行空数据
            SET htmlTask1 =
            &#39;&lt;tr&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
                &lt;th style=&quot;height: 40px; text-align: center;&quot;&gt;&lt;/th&gt;
            &lt;/tr&gt;&#39;;
        END IF;
        -- 开始拼接工作内容
        SET htmlTask = CONCAT(htmlTask,htmlTask1);
        SET htmlOrder5 = 
        CONCAT(
        &#39;			&lt;tr&gt;
                        &lt;th style=&quot;width: 15%; height: 80px; text-align: center;&quot;&gt;备注&lt;br&gt;Note&lt;/th&gt;
                        &lt;th colspan=&quot;6&quot;&gt;&#39;,note,&#39;&lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;th style=&quot;text-align: left; height: 80px;&quot; colspan=&quot;7&quot;&gt;
                            &lt;p&gt;委托单位代表 Client:&lt;/p&gt;
                            &lt;p&gt;签字 Signature:&lt;/p&gt;
                            &lt;p&gt;日期 Date:&lt;/p&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;th style=&quot;text-align: left; height: 80px;&quot; colspan=&quot;7&quot;&gt;
                            &lt;p&gt;承制单位代表 Undertaking Unit:&lt;/p&gt;
                            &lt;p&gt;签字 Signature:&lt;/p&gt;
                            &lt;p&gt;日期 Date:&lt;/p&gt;
                        &lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/body&gt;
        &lt;/html&gt;&#39;);
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3,htmlOrder4,htmlMaterial,htmlTask,htmlOrder5);
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------------------------------*/
    -- 4、尺寸检测委托单
    ELSEIF orderType = 4 THEN
        BEGIN
        -- 委托单位Client
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 单位地址
        DECLARE unitAddress VARCHAR(255);
        -- 联系方式
        DECLARE contactInformation VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 试样材料
        DECLARE sampleMaterial VARCHAR(255);
        -- 收样日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE finishDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 试样序号
        DECLARE sampleNo INT DEFAULT 1;
        -- 判断试样是否存在
        DECLARE isSampleExist INT;
        -- 试样类型
        DECLARE sampleType VARCHAR(255);
        -- 试样数量
        DECLARE sampleQuantity VARCHAR(255);
        -- 图纸
        DECLARE drawings VARCHAR(255);
        -- 试样编号
        DECLARE sampleNumber VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 任务要求表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF169, &#39;&#39;),IFNULL(SKF171, &#39;&#39;),IFNULL(SKF176, &#39;&#39;),
        IFNULL(SKF172, &#39;&#39;) FROM SKT10 WHERE SKF386 = orderCode;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 委托单主表信息赋值
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;),
        IFNULL(SKF72, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF99, &#39;&#39;), 
        IFNULL(SKF80, &#39;&#39;), IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;) INTO
        client, contact, unitAddress, contactInformation, 
        projectNumber, sampleMaterial, receivedDate, finishDate, 
        agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        -- HTML拼接前半部分
        SET htmlOrder1 =
        CONCAT(
        &#39;&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        &lt;head&gt;
            &lt;meta charset=&quot;gb2312&quot;&gt;
            &lt;title&gt;尺寸检测委托单&lt;/title&gt;
            &lt;style type=&quot;text/css&quot;&gt;
                body &#123;
                    font-size: 18px;
                &#125;
                table &#123;
                    width: 100%;
                    border: 1px;
                &#125;			
                td &#123;
                    height: 50px;
                &#125;
                .td_center&#123;
                    text-align: center;
                &#125;
            &lt;/style&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;!-- cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; 用于解决表格中的空袭 --&gt;
            &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;/td&gt;
                        &lt;td colspan=&quot;4&quot; &gt;&#39;,client,&#39;&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;联系人&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,contact,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;地址&lt;/td&gt;
                        &lt;td colspan=&quot;4&quot;&gt;&#39;,unitAddress,&#39;&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;联系方式&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,contactInformation,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;项目令号&lt;/td&gt;
                        &lt;td colspan=&quot;4&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;试样材料&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,sampleMaterial,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td width=&quot;20%&quot;&gt;收样日期&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;&#39;,finishDate,&#39;&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;商定完成日期&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        -- 开始拼接任务要求部分
        -- 获取当前任务要求数量
        SELECT COUNT(SKF168) INTO isSampleExist FROM SKT10 WHERE SKF386 = orderCode;
        IF isSampleExist &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO sampleType, sampleQuantity, drawings, sampleNumber;
            WHILE done != 1 DO
                IF sampleNo = 1 THEN
                    SET htmlOrder2 =
                    CONCAT(
                    &#39;&lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;&#39;,isSampleExist + 3,&#39;&quot;&gt;任务要求&lt;/td&gt;
                            &lt;td&gt;&#39;,sampleNo,&#39;.试样类型&lt;/td&gt;
                            &lt;td&gt;&#39;,sampleType,&#39;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;/td&gt;
                            &lt;td&gt;&#39;,sampleQuantity,&#39;&lt;/td&gt;
                            &lt;td&gt;图纸&lt;/td&gt;
                            &lt;td&gt;&#39;,drawings,&#39;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;/td&gt;
                            &lt;td style=&quot;text-align: center;&quot;&gt;&#39;,sampleNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;	&#39;);
                ELSE
                    SET htmlOrder2 =
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                            &lt;td&gt;&#39;,sampleNo,&#39;.试样类型&lt;/td&gt;
                            &lt;td&gt;&#39;,sampleType,&#39;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;/td&gt;
                            &lt;td&gt;&#39;,sampleQuantity,&#39;&lt;/td&gt;
                            &lt;td&gt;图纸&lt;/td&gt;
                            &lt;td&gt;&#39;,drawings,&#39;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;/td&gt;
                            &lt;td style=&quot;text-align: center;&quot;&gt;&#39;,sampleNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;	&#39;);
                END IF;
                FETCH cur_1 INTO sampleType, sampleQuantity, drawings, sampleNumber;
                SET sampleNo = sampleNo + 1;
            END WHILE;
            CLOSE cur_1;
        ELSE 
            SET htmlOrder2 = 
            &#39;&lt;tr&gt;
                    &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;3&quot;&gt;任务要求&lt;/td&gt;
                    &lt;td&gt;1.试样类型&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;试样数量&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;图纸&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;试样编号&lt;/td&gt;
                    &lt;td style=&quot;text-align: center;&quot;&gt;&lt;/td&gt;
                &lt;/tr&gt;&#39;;
        END IF;
        -- 任务要求选择框部分
        SET htmlOrder2 = 
        CONCAT(htmlOrder2,
        &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_center&quot;&gt;
                        实际尺寸&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实际尺寸&quot; value=&quot;实际尺寸&quot;&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;td_center&quot;&gt;
                        表面状态&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;表面状态&quot; value=&quot;表面状态&quot;&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;td_center&quot; colspan=&quot;2&quot;&gt;
                        表面粗糙度&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;表面粗糙度&quot; value=&quot;表面粗糙度&quot;&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;td_center&quot; colspan=&quot;2&quot;&gt;
                        无损探伤&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;无损探伤&quot; value=&quot;无损探伤&quot;&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;td_center&quot;&gt;
                        平行度&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;平行度&quot; value=&quot;平行度&quot;&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;td_rigth&quot; style=&quot;text-align: center;&quot;&gt;
                        垂直度&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;垂直度&quot; value=&quot;垂直度&quot;&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td style=&quot;text-align: center;&quot;&gt;
                        同轴度&lt;br&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;同轴度&quot; value=&quot;同轴度&quot;&gt;
                    &lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                &lt;/tr&gt;&#39;);
        -- HTML拼接后半部分
        SET  htmlOrder3 = 
            &#39;		&lt;tr&gt;
                        &lt;td colspan=&quot;9&quot;&gt;
                            委托单代表&lt;br&gt;
                            签字：&lt;br&gt;
                            日期：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td colspan=&quot;9&quot;&gt;
                            承制单位代表&lt;br&gt;
                            签字：&lt;br&gt;
                            日期：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;承诺&lt;br&gt;Promise&lt;/td&gt;
                        &lt;td colspan=&quot;8&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.&lt;br&gt;
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical &lt;br&gt;
                            information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------------------------------*/
    -- 5、复合材料加工委托单
    ELSEIF orderType = 5 THEN
        BEGIN
        -- 委托单主表部分
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 余料处理
        DECLARE surplusHandling VARCHAR(255);
        -- 余料处理邮寄地址
        DECLARE surplusPostalAddress VARCHAR(255);
        -- 产品处理
        DECLARE productHandling VARCHAR(255);
        -- 产品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 备注
        DECLARE note VARCHAR(255);
        -- 加工方法
        DECLARE machiningMethod VARCHAR(255);
        
        -- 材料样品表部分
        -- 序号
        DECLARE no_material INT DEFAULT 0;
        -- 名称
        DECLARE name_material VARCHAR(255);
        -- 材料类型
        DECLARE type_material VARCHAR(255);
        -- 试板品种
        DECLARE variety VARCHAR(255);
        -- 规格
        DECLARE specification VARCHAR(255);
        -- 尺寸
        DECLARE dimension VARCHAR(255);
        -- 铺层顺序
        DECLARE plyConfiguration VARCHAR(255);
        -- 数量
        DECLARE quantity_material VARCHAR(255);
        -- 有无加工基线
        DECLARE isDatumLine VARCHAR(255);
        -- 无基边的处理方法
        DECLARE treatmentMethods VARCHAR(255);
        -- 是否粘贴加强片
        DECLARE isSpecimenTabs VARCHAR(255);
        -- 试验件固化温度
        DECLARE specimenTemperature VARCHAR(255);
        -- 加强片材料
        DECLARE tabsMaterials VARCHAR(255);
        -- 加强片图纸名称
        DECLARE tabsDrawing VARCHAR(255);
        -- 粘接剂名
        DECLARE adhesivesName VARCHAR(55);
        -- 固化温度
        DECLARE curingTemperature VARCHAR(255);
        
        -- 工作内容表内容部分
        -- 序号
        DECLARE no_task INT DEFAULT 0;
        -- 产品
        DECLARE product VARCHAR(255);
        -- 数量
        DECLARE quantity_task VARCHAR(255);
        -- 下料图纸名称
        DECLARE samplingDrawingName VARCHAR(255);
        -- 下料图纸图号
        DECLARE samplingDrawingNumber VARCHAR(255);
        -- 加工图纸图号
        DECLARE machiningDrawingNumber VARCHAR(255);
        -- 编号要求
        DECLARE numberingRequirement VARCHAR(255);
        
        -- 存储过程存放变量部分
        -- 获得材料的总个数
        DECLARE sumMaterial INT;
        -- 获得工作内容的总个数
        DECLARE sumTask INT;
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML余料处理与任务产品处理部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML任务名称部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 存放材料部分
        DECLARE htmlOrder4 TEXT DEFAULT &#39;&#39;;
        -- 存放工作内容部分
        DECLARE htmlOrder5 TEXT DEFAULT &#39;&#39;;
        -- 存放HTML表格备注到签字部分
        DECLARE htmlOrder6 TEXT DEFAULT &#39;&#39;;
        -- 游标部分
        -- 循环游标判定变量
        DECLARE done INT DEFAULT 0;	
        -- 工作内容表游标部分
        DECLARE cur_2 CURSOR FOR 
        SELECT  SKF208, SKF209, SKF210, SKF211, SKF212, SKF213
        FROM SKT12 WHERE SKF391 = orderCode;
        -- 主子游标循环判断,指定循环结束时的返回值
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF95, &#39;&#39;), IFNULL(SKF96, &#39;&#39;), IFNULL(SKF97, &#39;&#39;), IFNULL(SKF98, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;), IFNULL(SKF220, &#39;&#39;) ,IFNULL(SKF111, &#39;&#39;)INTO 
        client, contact, address, contactNumber, surplusHandling, surplusPostalAddress, 
        productHandling, productPostalAddress, taskName, projectNumber, taskNumber, 
        receivedDate, requiredDate, agreedDate, note, machiningMethod
        FROM SKT8 WHERE SKF68 = orderCode;
        -- 设置HTML订单前半部分
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;复合材料加工委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    div&#123;
                        border: 1px solid;
                        width: 100%
                    &#125;
                    body&#123;
                        font-size: 18px;
                    &#125;
                    td&#123;
                        height: 45px;
                    &#125;
                    table&#123;
                        width: 100%
                        border:0px;
                    &#125;
                    .td_border1&#123;
                        border-bottom: 1px solid;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                委托单信息 Request Info
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td width=&quot;25%&quot;&gt;委托单位 Client:&lt;/td&gt;
                                &lt;td width=&quot;25%&quot;&gt;&#39;,client,&#39;&lt;/td&gt;
                                &lt;td width=&quot;25%&quot;&gt;联系人 Contact:&lt;/td&gt;
                                &lt;td&gt;&#39;,Contact,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;地址 Address:&lt;/td&gt;
                                &lt;td&gt;&#39;,address,&#39;&lt;/td&gt;
                                &lt;td&gt;联系方式 Contact Number:&lt;/td&gt;
                                &lt;td&gt;&#39;,contactNumber,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                    &lt;br&gt;
                &lt;/div&gt;&#39;);
            -- 产品处理打勾部分
            IF productHandling = &#39;自取&#39; THEN
                SET htmlOrder2 =
                &#39;&lt;br&gt;
                &lt;div&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td&gt;
                                产品处理 Product Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot; checked=&quot;checked&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;邮寄（邮寄地址）:Post (Postal Address)
                            &lt;/td&gt;
                        &lt;/tr&gt;&#39;;
            ELSEIF productHandling = &#39;邮寄&#39; THEN
                SET htmlOrder2 =
                &#39;&lt;br&gt;
                &lt;div&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td&gt;
                                产品处理 Product Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）:Post (Postal Address)
                            &lt;/td&gt;
                        &lt;/tr&gt;&#39;;
            -- 若为空，或者值不对，只显示表格信息
            ELSE
                SET htmlOrder2 =
                &#39;&lt;br&gt;
                &lt;div&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td&gt;
                                产品处理 Product Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;邮寄（邮寄地址）:Post (Postal Address)
                            &lt;/td&gt;
                        &lt;/tr&gt;&#39;;
            END IF;
            -- 余料处理打勾部分
            IF surplusHandling = &#39;委托处理&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                            &lt;td rowspan=&quot;2&quot;&gt;余料处理 Handling of Surplus Materials&lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理 Commissioned Handling&quot;&gt;委托处理 Commissioned Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td colspan=&quot;2&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）Post (Postal Address)：&quot;&gt;邮寄（邮寄地址）Post (Postal Address)：
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                &lt;/div&gt;&#39;);
            ELSEIF surplusHandling = &#39;自取&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;		&lt;tr&gt;
                            &lt;td rowspan=&quot;2&quot;&gt;余料处理 Handling of Surplus Materials&lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理 Commissioned Handling&quot;&gt;委托处理 Commissioned Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td colspan=&quot;2&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）Post (Postal Address)：&quot;&gt;邮寄（邮寄地址）Post (Postal Address)：
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                &lt;/div&gt;&#39;);
            ELSEIF surplusHandling = &#39;邮件&#39; THEN
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;		&lt;tr&gt;
                            &lt;td rowspan=&quot;2&quot;&gt;余料处理 Handling of Surplus Materials&lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理 Commissioned Handling&quot;&gt;委托处理 Commissioned Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td colspan=&quot;2&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）Post (Postal Address)：&quot;&gt;邮寄（邮寄地址）Post (Postal Address)：
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                &lt;/div&gt;&#39;);
            ELSE
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;		&lt;tr&gt;
                            &lt;td rowspan=&quot;2&quot;&gt;余料处理 Handling of Surplus Materials&lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理 Commissioned Handling&quot;&gt;委托处理 Commissioned Handling
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取 Self-pick up&quot;&gt;自取 Self-pick up 
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td colspan=&quot;2&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）Post (Postal Address)：&quot;&gt;邮寄（邮寄地址）Post (Postal Address)：
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                &lt;/div&gt;&#39;);
            END IF;
            -- 任务名称部分
            SET htmlOrder3 = 
            CONCAT(
            &#39;&lt;div&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td&gt;*任务名称 Task name&lt;/td&gt;
                            &lt;td colspan=&quot;2&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                            &lt;td&gt;*任务编号 Task number&lt;/td&gt;
                            &lt;td colspan=&quot;2&quot;&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;收料日期Received on&lt;/td&gt;
                            &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                            &lt;td&gt;*要求完成日期 Finish before&lt;/td&gt;
                            &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                            &lt;td&gt;商定完成日期 Agreed Date&lt;/td&gt;
                            &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;&#39;);
            -- 材料样品部分拼接
            -- 获取材料样品的总数
            SELECT COUNT(SKF138)  INTO sumMaterial FROM SKT9 
            WHERE SKF362 = orderCode AND SKF524 != 1;
            
            IF sumMaterial != 0 THEN
            SELECT GROUP_CONCAT(IFNULL(SKF138, &#39;&#39;)) , GROUP_CONCAT(IFNULL(SKF141, &#39;&#39;)) , GROUP_CONCAT(IFNULL(SKF148, &#39;&#39;)) ,
            GROUP_CONCAT(IFNULL(SKF152, &#39;&#39;)) ,GROUP_CONCAT(IFNULL(SKF150, &#39;&#39;)) 
            INTO name_material, variety, dimension, plyConfiguration, quantity_material
            FROM SKT9  WHERE SKF362 = orderCode AND SKF524 != 1;
            SELECT  IFNULL(SKF153, &#39;&#39;) ,IFNULL(SKF155, &#39;&#39;)  
            INTO isDatumLine, isSpecimenTabs
            FROM SKT9  WHERE SKF362 = orderCode AND SKF524 != 1 LIMIT 1;
            -- 是否有基线
            IF isDatumLine = &#39;有&#39; THEN
                SET htmlOrder4 = 
                CONCAT(
                &#39;	试板基本信息 Panel Information
                    &lt;div&gt;
                        &lt;table&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;材料名称 Material&lt;/td&gt;
                                    &lt;td&gt;&#39;,name_material,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;试板类型 Panel Type&lt;/td&gt;
                                    &lt;td&gt;&#39;,variety,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;试板尺寸 Panel Dimension&lt;/td&gt;
                                    &lt;td&gt;&#39;,dimension,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;铺层顺序 Ply Configuration&lt;/td&gt;
                                    &lt;td&gt;&#39;,plyConfiguration,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;数量 Quantity&lt;/td&gt;
                                    &lt;td&gt;&#39;,quantity_material,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;
                                        *有无加工基准线
                                        &lt;br&gt;
                                        Is the machining baseline specified?
                                    &lt;/td&gt;
                                    &lt;td&gt;
                                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;是&quot; checked=&quot;checked&quot;&gt;是
                                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;否&quot;&gt;否
                                        &lt;br&gt;
                                        注：必须标明加工基准
                                        &lt;br&gt;
                                        Notes：Please specify the machining baseline. 
                                    &lt;/td&gt;
                                &lt;/tr&gt;&#39;);
            ELSE
                SET htmlOrder4 = 
                CONCAT(
                &#39;	试板基本信息 Panel Information
                    &lt;div&gt;
                        &lt;table&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;材料名称 Material&lt;/td&gt;
                                    &lt;td&gt;&#39;,name_material,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;试板类型 Panel Type&lt;/td&gt;
                                    &lt;td&gt;&#39;,variety,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;试板尺寸 Panel Dimension&lt;/td&gt;
                                    &lt;td&gt;&#39;,dimension,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;铺层顺序 Ply Configuration&lt;/td&gt;
                                    &lt;td&gt;&#39;,plyConfiguration,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;数量 Quantity&lt;/td&gt;
                                    &lt;td&gt;&#39;,quantity_material,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;
                                        *有无加工基准线
                                        &lt;br&gt;
                                        Is the machining baseline specified?
                                    &lt;/td&gt;
                                    &lt;td&gt;
                                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;是&quot;&gt;是
                                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;否&quot;  checked=&quot;checked&quot;&gt;否
                                        &lt;br&gt;
                                        注：必须标明加工基准
                                        &lt;br&gt;
                                        Notes：Please specify the machining baseline. 
                                    &lt;/td&gt;
                                &lt;/tr&gt;&#39;);
            END IF;
            -- 是否有加强片
            IF isSpecimenTabs = &#39;有&#39; THEN
                SET htmlOrder4 = 
                CONCAT(htmlOrder4,
                &#39;		&lt;tr&gt;
                            &lt;td&gt;
                                *是否需要粘贴加强片？
                                &lt;br&gt;
                                Are tabbing required?
                            &lt;/td&gt;
                            &lt;td&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;是&quot; checked=&quot;checked&quot;&gt;是
                                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;否&quot;&gt;否
                                注：如果需要粘贴加强片，请完善以下信息。&lt;br&gt;
                                Notes：If tabbing was required, please complete the following information.&lt;br&gt;
                                1、试板的固化温度Curing temperature of the panel：&lt;br&gt;
                                2、要求的加强片材料Required tabbing materials：&lt;br&gt;
                                3、图纸Drawing：&lt;br&gt;
                                4、要求的粘贴用胶黏剂Required adhesive：&lt;br&gt;
                                注：如果不要求特定牌号的胶黏剂，将根据提供的试板的固化温度选择合适的胶黏剂。&lt;br&gt;
                                Notes：If a specific grade of adhesive is not required, the appropriate adhesive will be selected according to the provided curing &lt;br&gt;temperature of the test panel.
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
            工作内容 Machining Task:
            &lt;div&gt;
                &lt;table width=&quot;100%&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;序号&lt;br&gt;No.&lt;/td&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;试验件类型&lt;br&gt;Specimen&lt;/td&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;下料图编号&lt;br&gt;Number of Cutting Diagram&lt;/td&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;试验件图纸&lt;br&gt;Number of Specimen Drawing&lt;/td&gt;
                            &lt;td class=&quot;td_border1&quot;&gt;试验件编号要求 Numbering&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder4 = 
            CONCAT(htmlOrder4,
            &#39;		&lt;tr&gt;
                        &lt;td&gt;
                            *是否需要粘贴加强片？
                            &lt;br&gt;
                            Are tabbing required?
                        &lt;/td&gt;
                        &lt;td&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;是&quot;&gt;是
                            &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                            &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;否&quot; checked=&quot;checked&quot;&gt;否
                            注：如果需要粘贴加强片，请完善以下信息。&lt;br&gt;
                            Notes：If tabbing was required, please complete the following information.&lt;br&gt;
                            1、试板的固化温度Curing temperature of the panel：&lt;br&gt;
                            2、要求的加强片材料Required tabbing materials：&lt;br&gt;
                            3、图纸Drawing：&lt;br&gt;
                            4、要求的粘贴用胶黏剂Required adhesive：&lt;br&gt;
                            注：如果不要求特定牌号的胶黏剂，将根据提供的试板的固化温度选择合适的胶黏剂。&lt;br&gt;
                            Notes：If a specific grade of adhesive is not required, the appropriate adhesive will be selected according to the provided curing &lt;br&gt;temperature of the test panel.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
        工作内容 Machining Task:
        &lt;div&gt;
            &lt;table width=&quot;100%&quot;  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;序号&lt;br&gt;No.&lt;/td&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;试验件类型&lt;br&gt;Specimen&lt;/td&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;数量&lt;br&gt;Quantity&lt;/td&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;下料图编号&lt;br&gt;Number of Cutting Diagram&lt;/td&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;试验件图纸&lt;br&gt;Number of Specimen Drawing&lt;/td&gt;
                        &lt;td class=&quot;td_border1&quot;&gt;试验件编号要求 Numbering&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        END IF;
        END IF;
        -- 工作内容部分
        -- 初始化done值
        SET done = 0;
        -- 获取工作内容表的数量
        SELECT COUNT(SKF208) INTO sumTask FROM SKT12 
        WHERE SKF391 = orderCode;
        IF sumTask &gt; 0 THEN
            -- 开始工作内容循环部分
            -- 开启游标
            OPEN cur_2;
            FETCH cur_2 INTO product, quantity_task, samplingDrawingName, samplingDrawingNumber,
            machiningDrawingNumber, numberingRequirement;
            SET no_task = 1;
            WHILE done != 1 DO
                SET htmlOrder5 = 
                CONCAT(htmlOrder5,
                    &#39;&lt;tr&gt;
                        &lt;th&gt;&#39;,no_task,&#39;&lt;/th&gt;
                        &lt;th&gt;&#39;,product,&#39;&lt;/th&gt;
                        &lt;th&gt;&#39;,quantity_task,&#39;&lt;/th&gt;
                        &lt;th&gt;&#39;,samplingDrawingName,&#39;/&#39;,samplingDrawingNumber,&#39;&lt;/th&gt;
                        &lt;th&gt;&#39;,machiningDrawingNumber,&#39;&lt;/th&gt;
                        &lt;th&gt;&#39;,numberingRequirement,&#39;&lt;/th&gt;
                    &lt;/tr&gt;&#39;);
                FETCH cur_2 INTO product, quantity_task, samplingDrawingName, samplingDrawingNumber,
                machiningDrawingNumber, numberingRequirement;
                SET no_task = no_task +1;
            END WHILE;
            CLOSE cur_2;
        ELSE
            SET htmlOrder5 =
            CONCAT(htmlOrder5,
            &#39;	&lt;tr&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF machiningMethod = &#39;磨削&#39; THEN
            SET htmlOrder6 = 
            CONCAT(
            &#39;				&lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;加工方法 Machining Method&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;磨削&quot; checked=&quot;checked&quot;&gt;磨削 Grinding
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;高速铣&quot;&gt;高速铣 Milling
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;备注 Notes&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;&#39;,note,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;br&gt;
                &lt;div&gt;
                    &lt;table width=&quot;100%&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td&gt;委托单位代表 Client:&lt;/td&gt;
                                &lt;td&gt;承制单位代表 Undertaking Unit:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;签字 Signature: &lt;/td&gt;
                                &lt;td&gt;签字 Signature:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
            &lt;/body&gt;
            &lt;/html&gt;&#39;);
        ELSEIF machiningMethod = &#39;高速铣&#39; THEN
            SET htmlOrder6 = 
            CONCAT(
            &#39;				&lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;加工方法 Machining Method&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;磨削&quot;&gt;磨削 Grinding
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;高速铣&quot; checked=&quot;checked&quot;&gt;高速铣 Milling
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;备注 Notes&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;&#39;,note,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;table&gt;
                        &lt;tbody width=&quot;100%&quot;&gt;
                            &lt;tr&gt;
                                &lt;td&gt;委托单位代表 Client:&lt;/td&gt;
                                &lt;td&gt;承制单位代表 Undertaking Unit:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;签字 Signature: &lt;/td&gt;
                                &lt;td&gt;签字 Signature:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
            &lt;/body&gt;
            &lt;/html&gt;&#39;);
        ELSE
            SET htmlOrder6 = 
            CONCAT(
            &#39;				&lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;加工方法 Machining Method&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;磨削&quot;&gt;磨削 Grinding
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;高速铣&quot;&gt;高速铣 Milling
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td colspan=&quot;3&quot;&gt;备注 Notes&lt;/td&gt;
                                &lt;td colspan=&quot;3&quot;&gt;&#39;,note,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;table width=&quot;100%&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td&gt;委托单位代表 Client:&lt;/td&gt;
                                &lt;td&gt;承制单位代表 Undertaking Unit:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;签字 Signature: &lt;/td&gt;
                                &lt;td&gt;签字 Signature:&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                                &lt;td&gt;日期 Date:&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
            &lt;/body&gt;
            &lt;/html&gt;&#39;);
        END IF;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3,htmlOrder4,htmlOrder5,htmlOrder6);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*------------------------------------------------------------------------------------------------------------------*/
    -- 6、振动试验检测任务委托单
    ELSEIF orderType = 6 THEN
        BEGIN
        -- 委托单位Client
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 单位地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactInformation VARCHAR(255);
        -- 样品处理
        DECLARE handlingSpecimens VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE handlingPostalAddress VARCHAR(255);
        -- 取报告方式
        DECLARE reportPickUp VARCHAR(255);
        -- 取报告邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收样日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE finishDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料表信息
        -- 材料ID
        DECLARE eutID VARCHAR(255);
        -- 试样名称
        DECLARE eutName VARCHAR(255);
        -- 试样数量
        DECLARE eutNumber VARCHAR(255);
        -- 型号/规格
        DECLARE modelType VARCHAR(255);
        -- 试样编号
        DECLARE eutNo VARCHAR(255);
        -- 检测依据
        DECLARE testStandard VARCHAR(255);
        -- 夹具信息
        DECLARE fixtureInformation VARCHAR(255);
        -- 任务要求
        -- 检测目的
        DECLARE testAim VARCHAR(255);
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测方法/条件
        DECLARE testMethod VARCHAR(255);
        -- 合格判断
        DECLARE criteriaConformity VARCHAR(255);
        -- 其他
        DECLARE taskRequirements VARCHAR(255);
        -- 判断材料样品是否存在
        DECLARE countMaterial INT;
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料信息表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;),IFNULL(SKF150,&#39;&#39;),
        IFNULL(SKF140, &#39;&#39;), IFNULL(SKF280, &#39;&#39;), IFNULL(SKF426, &#39;&#39;),
        IFNULL(SKF425, &#39;&#39;) 
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 主表信息赋值
        SELECT IFNULL(SKF69,&#39;&#39;), IFNULL(SKF71,&#39;&#39;),IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73,&#39;&#39;), IFNULL(SKF74, &#39;&#39;), IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77,&#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;) INTO 
        client, contact, address, contactInformation, 
        handlingSpecimens, handlingPostalAddress, reportPickUp,reportPostalAddress, 
        taskName, projectNumber, taskNumber, receivedDate, 
        finishDate, agreedDate FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlORder1 =
        CONCAT(
        &#39;&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        &lt;head&gt;
            &lt;meta charset=&quot;gb2312&quot;&gt;
            &lt;title&gt;振动可靠性检测委托单&lt;/title&gt;
            &lt;style type=&quot;text/css&quot;&gt;
                div&#123;
                    width: 100%;
                &#125;
                table &#123;
                    width: 100%;
                &#125;
                body &#123;
                    font-size 18px;
                &#125;
                td &#123;
                    text-align: center;
                    height: 45px;
                &#125;
                .td_rigth&#123;
                    border-bottom: 0px;
                &#125;
                .td_rigth3_1&#123;
                    height: 50px;
                    text-align: left;
                &#125;
                .td_top1_1&#123;
                    text-align: center;
                &#125;
                .td_top_right1_1&#123;
                &#125;
                .td_hide_border1&#123;
                    text-align: center;
                    border: 0px;
                &#125;
                .td_top1_2&#123;
                    text-align: center;
                    width: 16%;
                &#125;
                .td_top_right1_2&#123;
                    text-align: center;
                    width: 16%;
                &#125;
                .div_in&#123;
                &#125;
                .td_top2_1&#123;
                    text-align: center;
                    width: 20%;
                &#125;
                .td_top_right2_1&#123;
                    text-align: center;
                    width: 20%;
                &#125;
            &lt;/style&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;!-- cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; 用于解决表格中的空袭 --&gt;
            &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;&#39;,client,&#39;&lt;/td&gt;
                        &lt;td&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                        &lt;td&gt;&#39;,contact,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;&#39;,address,&#39;&lt;/td&gt;
                        &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                        &lt;td&gt;&#39;,contactInformation,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        IF  handlingSpecimens = &#39;委托处理&#39;  THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;  checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        ELSEIF handlingSpecimens = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                        &lt;td style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                        &lt;/td&gt;
                    &lt;/tr&gt;	&#39;);
        ELSEIF handlingSpecimens = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        END IF;
        IF reportPickUp = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-right: 1px solid; border-top: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;&#39;);
        ELSEIF reportPickUp = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;  checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-right: 1px solid; border-top: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;&#39;);		
        ELSEIF reportPickUp = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-right: 1px solid; border-top: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;&#39;);	
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                &lt;/td&gt;
                &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-bottom: 1px solid; border-right: 1px solid; border-top: 1px solid;&quot; colspan=&quot;3&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）上海市松江区&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;&#39;);	
        END IF;
        -- 任务名称、收样日期等拼接
        SET htmlOrder1 = 
        CONCAT(htmlORder1,
        &#39;&lt;tr&gt;
            &lt;td class=&quot;td_top1_2&quot; style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
            &lt;td class=&quot;td_top1_2&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
            &lt;td class=&quot;td_top1_2&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
            &lt;td class=&quot;td_top1_2&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
            &lt;td class=&quot;td_top1_2&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
            &lt;td class=&quot;td_top_right1_2&quot;&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
            &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
            &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
            &lt;td&gt;&#39;,finishDate,&#39;&lt;/td&gt;
            &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
            &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
        &lt;/tr&gt;&#39;);
        -- 材料和任务部分拼接
        -- 判断材料是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO eutID, eutName, eutNumber, modelType,
            eutNo, testStandard, fixtureInformation;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;5&quot;&gt;检测信息&lt;br&gt;Test Information&lt;/td&gt;
                        &lt;td&gt;试样名称&lt;br&gt;Name of EUT&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,eutNumber,&#39;&lt;/td&gt;
                        &lt;td&gt;试样数量&lt;br&gt;Number of EUT&lt;/td&gt;
                        &lt;td &gt;&#39;,eutNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;型号/规格&lt;br&gt;Model/Type&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,modelType,&#39;&lt;/td&gt;
                        &lt;td&gt;试样编号&lt;br&gt;No.of EUT&lt;/td&gt;
                        &lt;td&gt;&#39;,eutNo,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;检测依据&lt;br&gt;Test Standard&lt;br&gt;Specification&lt;/td&gt;
                        &lt;td colspan=&quot;4&quot;&gt;&#39;,testStandard,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                IF fixtureInformation = &#39;已有&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot; checked=&quot;checked&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInformation = &#39;新制&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot; checked=&quot;checked&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInformation = &#39;客户提供&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot; checked=&quot;checked&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInformation = &#39;邮寄&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInformation = &#39;实验室存储&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot; checked=&quot;checked&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                ELSE
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                END IF;
                -- 任务要求表
                SELECT IFNULL(GROUP_CONCAT(SKF180), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), 
                IFNULL(GROUP_CONCAT(SKF181), &#39;&#39;),IFNULL(GROUP_CONCAT(SKF182), &#39;&#39;), 
                IFNULL(GROUP_CONCAT(SKF183), &#39;&#39;) INTO  testAim, testItem, testMethod,
                criteriaConformity, taskRequirements
                FROM SKT10 WHERE SKF388 = eutID;
                -- 任务要求表拼接
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                        &lt;td class=&quot;td_top1_1&quot; rowspan=&quot;6&quot; style=&quot;width: 20%;&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                        &lt;td class=&quot;td_top_right1_1&quot; colspan=&quot;5&quot;&gt;
                            试验及技术要求（检测目的,检测项目,检测方法/条件,合格判据等）&lt;br&gt;
                            Test and Technical Requirements (The aim of Test, Test Item, Test Method/Condition, Criteria for Conformity etc.)
                        &lt;/td&gt;
                    &lt;/tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测目的：&#39;,testAim,&#39;
                        &lt;/td&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测项目：&#39;,testItem,&#39;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测方法/条件：&#39;,testMethod,&#39;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            合格判据：&#39;,criteriaConformity,&#39;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            其他：&#39;,taskRequirements,&#39;
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                FETCH cur_1 INTO eutID, eutName, eutNumber, modelType,
                eutNo, testStandard, fixtureInformation;
            END WHILE;
            CLOSE cur_1;
        ELSE
            SET htmlOrder2 =
            &#39;		&lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;5&quot;&gt;检测信息&lt;br&gt;Test Information&lt;/td&gt;
                        &lt;td&gt;试样名称&lt;br&gt;Name of EUT&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                        &lt;td&gt;试样数量&lt;br&gt;Number of EUT&lt;/td&gt;
                        &lt;td &gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;型号/规格&lt;br&gt;Model/Type&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                        &lt;td&gt;试样编号&lt;br&gt;No.of EUT&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;检测依据&lt;br&gt;Test Standard&lt;br&gt;Specification&lt;/td&gt;
                        &lt;td colspan=&quot;4&quot;&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td rowspan=&quot;2&quot;&gt;夹具信息&lt;br&gt;Fixture Information&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-left: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; value=&quot;已有&quot;&gt;已有 
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; value=&quot;新制&quot;&gt;新制
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-right: 1px solid; border-bottom: 1px solid;&quot;  colspan=&quot;2&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; value=&quot;客户提供&quot;&gt;客户提供
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-left: 1px solid; border-bottom: 1px solid; border-top: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; value=&quot;邮寄&quot;&gt;邮寄（邮寄地址）
                        &lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; style=&quot;border-top: 1px solid; border-bottom: 1px solid;&quot;&gt;&lt;/td&gt;
                        &lt;td class=&quot;td_hide_border1&quot; colspan=&quot;2&quot; style=&quot;border-top: 1px solid;border-bottom: 1px solid;border-right: 1px solid;&quot;&gt;
                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;实验室存储&quot; value=&quot;实验室存储&quot;&gt;实验室存储
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_top1_1&quot; rowspan=&quot;6&quot; style=&quot;width: 20%;&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                        &lt;td class=&quot;td_top_right1_1&quot; colspan=&quot;5&quot;&gt;
                            试验及技术要求（检测目的,检测项目,检测方法/条件,合格判据等）&lt;br&gt;
                            Test and Technical Requirements (The aim of Test, Test Item, Test Method/Condition, Criteria for Conformity etc.)
                        &lt;/td&gt;
                    &lt;/tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测目的：
                        &lt;/td&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测项目：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            检测方法/条件：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            合格判据：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            其他：
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;;
        END IF;
        -- html后半部分
        SET htmlOrder3 =
        &#39;			&lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;6&quot;&gt;
                            委托单代表&lt;br&gt;
                            签字：&lt;br&gt;
                            日期：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;6&quot;&gt;
                            承制单位代表&lt;br&gt;
                            签字：&lt;br&gt;
                            日期：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;承诺&lt;br&gt;Promise&lt;/td&gt;
                        &lt;td class=&quot;td_rigth3_1&quot; colspan=&quot;5&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.&lt;br&gt;
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical &lt;br&gt;
                            information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------------*/
    -- 7、物理性能金属、复材委托单
    ELSEIF orderType = 7 THEN
        BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 样品材料名称
        DECLARE materialName VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);	
        -- 样品规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 材料热处理状态
        DECLARE heatCondition VARCHAR(255);
        -- 成型工艺
        DECLARE process VARCHAR(255);
        -- 材料炉批号
        DECLARE batchNo VARCHAR(255);
        -- 预浸料名称
        DECLARE prepregName VARCHAR(255);
        -- 状态调节要求
        DECLARE conditionRequirement VARCHAR(255);
        -- 试样类型
        DECLARE materialType VARCHAR(255);
        -- 试样数量
        DECLARE quantity VARCHAR(255);
        -- 试样尺寸
        DECLARE Dimension VARCHAR(255);
        -- 样品编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;),
        IFNULL(SKF140, &#39;&#39;), IFNULL(SKF143, &#39;&#39;), IFNULL(SKF278, &#39;&#39;),
        IFNULL(SKF142, &#39;&#39;), IFNULL(SKF145, &#39;&#39;), IFNULL(SKF162, &#39;&#39;),IFNULL(SKF279, &#39;&#39;),
        IFNULL(SKF150, &#39;&#39;),IFNULL(SKF148, &#39;&#39;),IFNULL(SKF280, &#39;&#39;)
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;物理性能检测委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
        &lt;body&gt;
            &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;&#39;,client,&#39;&lt;/td&gt;
                        &lt;td&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                        &lt;td&gt;&#39;,contact,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;&#39;,address,&#39;&lt;/td&gt;
                        &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                        &lt;td&gt;&#39;,contactNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-left: 0px; border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-left: 0px; border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-left: 0px; border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling
                &lt;/td&gt;
                &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-left: 0px; border-right: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                &lt;/td&gt;
                &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                &lt;/td&gt;
            &lt;/tr&gt;	&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                    &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;  checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up
                    &lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                    &lt;/td&gt;
                    &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                    &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                    &lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                    &lt;/td&gt;
                    &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; &gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                    &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                    &lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                    &lt;/td&gt;
                    &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
            &#39;&lt;tr&gt;
                    &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; style=&quot;border-right: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up
                    &lt;/td&gt;
                    &lt;td class=&quot;td_1_checkbox&quot; colspan=&quot;2&quot; style=&quot;border-right: 0px;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）
                    &lt;/td&gt;
                    &lt;td colspan=&quot;2&quot; style=&quot;border-left: 0px;&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;&lt;tr&gt;
            &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
            &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
            &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
            &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
            &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
            &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
            &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
            &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
            &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
            &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
            &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
        &lt;/tr&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
            heatCondition  ,process  ,batchNo ,prepregName ,conditionRequirement ,
            materialType  ,quantity ,Dimension ,specimenNumber ;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;&#39;,materialName,&#39;/&#39;,grades,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Heat Condition/Process&lt;/td&gt;
                        &lt;td&gt;&#39;,heatCondition,&#39;/&#39;,process,&#39;&lt;/td&gt;
                        &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,batchNo,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;预浸料名称(增强体/基体)&lt;br&gt;Prepreg name&lt;br&gt;(Reinforcement/Matrix)&lt;/td&gt;
                        &lt;td&gt;&#39;,prepregName,&#39;&lt;/td&gt;
                        &lt;td&gt;状态调节要求&lt;br&gt;Condition Requirement&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,conditionRequirement,&#39;&lt;/td&gt;				
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                        &lt;td&gt;&#39;,materialType,&#39;&lt;/td&gt;
                        &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,quantity,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                        &lt;td&gt;&#39;,Dimension,&#39;&lt;/td&gt;
                        &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                        &lt;td colspan=&quot;2&quot;&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;)
                INTO testItem, testStandard
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;&lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                        &lt;td colspan=&quot;5&quot;&gt;
                            试验及技术要求（检测项目、 检测标准、检测目的及用途等）&lt;br&gt;
                            Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;height: 85px; text-align: left&quot; colspan=&quot;5&quot;&gt;
                        检测项目：&#39;,testItem,&#39;&lt;br&gt;
                        检测标准：&#39;,testStandard,&#39;&lt;br&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;&#39;);
                FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
                heatCondition  ,process  ,batchNo ,prepregName ,conditionRequirement ,
                materialType  ,quantity ,Dimension ,specimenNumber ;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;	&lt;tr&gt;
                    &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                    &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                    &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                    &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Heat Condition/Process&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;预浸料名称(增强体/基体)&lt;br&gt;Prepreg name&lt;br&gt;(Reinforcement/Maxtrix)&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;状态调节要求&lt;br&gt;Condition Requirement&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;				
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                    &lt;td&gt;三得利&lt;/td&gt;
                    &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                    &lt;td&gt;&lt;/td&gt;
                    &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                    &lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                    &lt;td colspan=&quot;5&quot;&gt;
                        试验及技术要求（检测项目、 检测标准、检测目的及用途等）&lt;br&gt;
                        Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td style=&quot;height: 85px; text-align: left&quot; colspan=&quot;5&quot;&gt;
                    检测项目：&lt;br&gt;
                    检测标准：&lt;br&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
        &#39;			&lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;6&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;6&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;5&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*------------------------------------------------------------------------------------------------------------------------------*/
    -- 8、高分子材料测试委托单
    ELSEIF orderType = 8 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 样品材料名称
        DECLARE materialName VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);	
        -- 样品规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 品种
        DECLARE materialForm VARCHAR(255);
        -- 材料批号
        DECLARE batchNo VARCHAR(255);
        -- 存储环境
        DECLARE storeEnvironment VARCHAR(255);
        -- 试样状态调节
        DECLARE specimenCondition VARCHAR(255);
        -- 试样类型
        DECLARE materialType VARCHAR(255);
        -- 试样数量
        DECLARE quantity VARCHAR(255);
        -- 试样尺寸
        DECLARE Dimension VARCHAR(255);
        -- 样品编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 加载参数
        DECLARE loadParameters VARCHAR(255);
        -- 试验环境
        DECLARE environment VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;),
        IFNULL(SKF140, &#39;&#39;), IFNULL(SKF141, &#39;&#39;), IFNULL(SKF142, &#39;&#39;), IFNULL(SKF161, &#39;&#39;),
        IFNULL(SKF162, &#39;&#39;), IFNULL(SKF279, &#39;&#39;),IFNULL(SKF150, &#39;&#39;),IFNULL(SKF148, &#39;&#39;),IFNULL(SKF280, &#39;&#39;)
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;高分子材料检测委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                            &lt;td style=&quot;width: 40%;&quot;&gt;&#39;,client ,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                            &lt;td&gt;&#39;,contact ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                            &lt;td&gt;&#39;,address ,&#39;&lt;/td&gt;
                            &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                            &lt;td&gt;&#39;,contactNumber ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
                        &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
                        &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                        &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
            materialForm ,batchNo   ,storeEnvironment  ,specimenCondition ,materialType ,
            quantity ,Dimension ,specimenNumber;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;&#39;, materialName, &#39;/&#39;, grades,&#39;&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                                &lt;td&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;品种&lt;br&gt;Form&lt;/td&gt;
                                &lt;td&gt;&#39;,materialForm,&#39;&lt;/td&gt;
                                &lt;td&gt;材料批号&lt;br&gt;Batch No.&lt;/td&gt;
                                &lt;td&gt;&#39;,batchNo,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;存储条件&lt;br&gt;Store Environment&lt;/td&gt;
                                &lt;td&gt;&#39;,storeEnvironment,&#39;&lt;/td&gt;
                                &lt;td&gt;试样状态调节&lt;br&gt;Specimen Condition&lt;/td&gt;
                                &lt;td&gt;&#39;,specimenCondition,&#39;&lt;/td&gt;				
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                                &lt;td&gt;&#39;,materialType,&#39;&lt;/td&gt;
                                &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                                &lt;td&gt;&#39;,quantity,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                                &lt;td&gt;&#39;,Dimension,&#39;&lt;/td&gt;
                                &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                                &lt;td&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF187), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF173), &#39;&#39;)
                INTO testItem, testStandard,loadParameters ,environment 
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                                &lt;td&gt;
                                    试验及技术要求（检测项目, 检测标准, 加载及测量参数, 试验环境等）&lt;br&gt;
                                    Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;height: 85px; text-align: left&quot;&gt;
                                检测项目：&#39;,testItem,&#39;&lt;br&gt;
                                检测标准：&#39;,testStandard,&#39;&lt;br&gt;
                                加载及测量参数：&#39;,loadParameters,&#39;&lt;br&gt;
                                试验环境：&#39;,environment,&#39;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
                materialForm ,batchNo   ,storeEnvironment  ,specimenCondition ,materialType ,
                quantity ,Dimension ,specimenNumber ;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;品种&lt;br&gt;Form&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;材料批号&lt;br&gt;Batch No.&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;存储条件&lt;br&gt;Store Environment&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;试样状态调节&lt;br&gt;Specimen Condition&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;				
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
            
            &lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                        &lt;td&gt;
                            试验及技术要求（检测项目, 检测标准, 加载及测量参数, 试验环境等）&lt;br&gt;
                            Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;height: 85px;&quot;&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
        &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*-----------------------------------------------------------------------------------------------------------------------------------*/
    -- 9、化学成分测试委托单
    ELSEIF orderType = 9 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 样品材料名称
        DECLARE materialName VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);	
        -- 样品规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 品种
        DECLARE materialForm VARCHAR(255);
        -- 材料批号
        DECLARE batchNo VARCHAR(255);
        -- 材料热处理状态
        DECLARE heatCondition VARCHAR(255);
        -- 技术状态
        DECLARE technicalState VARCHAR(255);
        -- 试样类型
        DECLARE materialType VARCHAR(255);
        -- 试样数量
        DECLARE quantity VARCHAR(255);
        -- 试样尺寸
        DECLARE Dimension VARCHAR(255);
        -- 样品编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测元素及预估范围
        DECLARE detectionElement VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 检测方法
        DECLARE testMethod VARCHAR(255);
        -- 检测依据
        DECLARE judge VARCHAR(255);
        -- 判定要求
        DECLARE judgeReference VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;),
        IFNULL(SKF140, &#39;&#39;), IFNULL(SKF141, &#39;&#39;), IFNULL(SKF142, &#39;&#39;), IFNULL(SKF143, &#39;&#39;),
        IFNULL(SKF144, &#39;&#39;), IFNULL(SKF279, &#39;&#39;),IFNULL(SKF150, &#39;&#39;),IFNULL(SKF148, &#39;&#39;),IFNULL(SKF280, &#39;&#39;)
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;化学成分检测委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                            &lt;td style=&quot;width: 40%;&quot;&gt;&#39;,client ,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                            &lt;td&gt;&#39;,contact ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                            &lt;td&gt;&#39;,address ,&#39;&lt;/td&gt;
                            &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                            &lt;td&gt;&#39;,contactNumber ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
                        &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
                        &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                        &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
            materialForm ,batchNo   ,heatCondition, technicalState   ,materialType ,
            quantity ,Dimension ,specimenNumber;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&#39;,materialName,&#39;/&#39;,grades,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;品种&lt;br&gt;Form&lt;/td&gt;
                            &lt;td&gt;&#39;,materialForm,&#39;&lt;/td&gt;
                            &lt;td&gt;材料批号&lt;br&gt;Batch No.&lt;/td&gt;
                            &lt;td&gt;&#39;,batchNo,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态&lt;br&gt;Condition&lt;/td&gt;
                            &lt;td&gt;&#39;,heatCondition,&#39;&lt;/td&gt;
                            &lt;td&gt;技术状态&lt;br&gt;Technical State&lt;/td&gt;
                            &lt;td&gt;&#39;,technicalState,&#39;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                            &lt;td&gt;&#39;,materialType,&#39;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&#39;,quantity,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样尺寸/重量&lt;br&gt;Dimension/mass&lt;/td&gt;
                            &lt;td&gt;&#39;,Dimension,&#39;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF420), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF189), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF179), &#39;&#39;), 
                IFNULL(GROUP_CONCAT(SKF421), &#39;&#39;)
                INTO detectionElement,testStandard,testMethod,judge,judgeReference
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                                    &lt;td&gt;
                                        试验及技术要求（检测元素及估计范围, 检测标准/方法、判定依据及要求等）&lt;br&gt;
                                        Test and Technical Requirements (Testing Item, Estimated range, Standard/ method, Judge Reference etc.)
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td style=&quot;height: 85px; text-align: left;&quot;&gt;
                                        检测元素及预估范围：&#39;,detectionElement,&#39; &lt;br&gt;
                                        检测标准：&#39;,testStandard,&#39; &lt;br&gt;
                                        检测方法：&#39;,testMethod,&#39; &lt;br&gt;
                                        判定依据：&#39;,judge,&#39; &lt;br&gt;
                                        判定要求：&#39;,judgeReference,&#39;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;&#39;);
                FETCH cur_1 INTO materialID ,materialName  ,grades  ,thicknessDiameter ,
                materialForm ,batchNo   ,heatCondition, technicalState   ,materialType ,
                quantity ,Dimension ,specimenNumber;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;5&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;品种&lt;br&gt;Form&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;材料批号&lt;br&gt;Batch No.&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态&lt;br&gt;Condition&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;技术状态&lt;br&gt;Technical State&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样尺寸/重量&lt;br&gt;Dimension/mass&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                
                &lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                            &lt;td&gt;
                                试验及技术要求（检测元素及估计范围, 检测标准/方法、判定依据及要求等）&lt;br&gt;
                                Test and Technical Requirements (Testing Item, Estimated range, Standard/ method, Judge Reference etc.)
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;height: 85px;&quot;&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
        &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*---------------------------------------------------------------------------------------------------------------------*/
    -- 10、腐蚀与环境性能委托单
    ELSEIF orderType = 10 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 材料名称
        DECLARE material VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);
        -- 材料规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 材料热处理状态
        DECLARE heatCondition VARCHAR(255);
        -- 成型工艺
        DECLARE process VARCHAR(255);
        -- 材料炉批号
        DECLARE batchNo VARCHAR(255);
        -- 试样类型
        DECLARE materialType VARCHAR(255);
        -- 试样数量
        DECLARE quantity VARCHAR(255);
        -- 试样尺寸
        DECLARE dimension VARCHAR(255);
        -- 试样编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 加载参数
        DECLARE loadParameter VARCHAR(255);
        -- 试验环境
        DECLARE environment VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;),
        IFNULL(SKF140, &#39;&#39;), IFNULL(SKF143, &#39;&#39;), IFNULL(SKF278, &#39;&#39;),
        IFNULL(SKF142, &#39;&#39;), IFNULL(SKF279, &#39;&#39;), IFNULL(SKF150, &#39;&#39;), 
        IFNULL(SKF148, &#39;&#39;), IFNULL(SKF280, &#39;&#39;)
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;腐蚀与环境性能检测委托&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                            &lt;td style=&quot;width: 40%;&quot;&gt;&#39;,client ,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                            &lt;td&gt;&#39;,contact ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                            &lt;td&gt;&#39;,address ,&#39;&lt;/td&gt;
                            &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                            &lt;td&gt;&#39;,contactNumber ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
                        &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
                        &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                        &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,material ,grades ,thicknessDiameter ,heatCondition ,process ,
            batchNo ,materialType ,quantity ,dimension ,specimenNumber ;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;材料名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&#39;,material,&#39;/&#39;,grades,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;材料规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Heat Condition/Process&lt;/td&gt;
                            &lt;td&gt;&#39;,heatCondition,&#39;/&#39;,process,&#39;&lt;/td&gt;
                            &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                            &lt;td&gt;&#39;,batchNo,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                            &lt;td&gt;&#39;,materialType,&#39;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&#39;,quantity,&#39;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                            &lt;td&gt;&#39;,dimension,&#39;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF175),&#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF187), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF173) , &#39;&#39;)
                INTO testItem, testStandard,loadParameter,environment
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                                &lt;td&gt;
                                    试验及技术要求（检测项目, 检测标准, 加载参数, 试验环境等）&lt;br&gt;
                                    Test and Technical Requirements (Testing Item, Standard, Loading Parameters, Environment etc.)
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;height: 85px; text-align: left&quot;&gt;
                                检测项目：&#39;,testItem,&#39;&lt;br&gt;
                                检测标准：&#39;,testStandard,&#39;&lt;br&gt;
                                加载参数：&#39;,loadParameter,&#39;&lt;br&gt;
                                试验环境：&#39;,environment,&#39;&lt;br&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                FETCH cur_1 INTO materialID ,material ,grades ,thicknessDiameter ,heatCondition ,process ,
                batchNo ,materialType ,quantity ,dimension ,specimenNumber ;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;试样信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;材料名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;材料规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Heat Condition/Process&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样类型&lt;br&gt;Type&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样尺寸&lt;br&gt;Dimension&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                
                &lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                            &lt;td&gt;
                                试验及技术要求（检测项目, 检测标准, 加载参数, 试验环境等）&lt;br&gt;
                                Test and Technical Requirements (Testing Item, Standard, Loading Parameters, Environment etc.)
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;height: 85px;&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
        &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*-------------------------------------------------------------------------------------------------------*/
    -- 11、失效分析委托单
    ELSEIF orderType = 11 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 样品名称
        DECLARE specimenName VARCHAR(255);
        -- 样品规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 样品类型
        DECLARE materialType VARCHAR(255);
        -- 样品材料名称
        DECLARE materialName VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);
        -- 材料热处理状态
        DECLARE heatCondition VARCHAR(255);
        -- 材料炉批号
        DECLARE batchNo VARCHAR(255);
        -- 样品数量
        DECLARE quantity VARCHAR(255);
        -- 样品编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 检测目的
        DECLARE testPurpose VARCHAR(255);
        -- 用途
        DECLARE testUse VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF281, &#39;&#39;), IFNULL(SKF283, &#39;&#39;),
        IFNULL(SKF285, &#39;&#39;), IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;),
        IFNULL(SKF143, &#39;&#39;), IFNULL(SKF142, &#39;&#39;), IFNULL(SKF150, &#39;&#39;),IFNULL(SKF284, &#39;&#39;) 
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;失效分析检测委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                            &lt;td style=&quot;width: 40%;&quot;&gt;&#39;,client ,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                            &lt;td&gt;&#39;,contact ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                            &lt;td&gt;&#39;,address ,&#39;&lt;/td&gt;
                            &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                            &lt;td&gt;&#39;,contactNumber ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
                        &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
                        &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                        &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,specimenName ,thicknessDiameter ,materialType,
            materialName ,grades ,heatCondition,
            batchNo ,quantity ,specimenNumber ;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;样品信息&lt;br&gt;Material&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品名称&lt;br&gt;Specimen Name&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;&#39;,specimenName,&#39;&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                                &lt;td&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;样品类型&lt;br&gt;Type&lt;/td&gt;
                                &lt;td&gt;&#39;,materialType,&#39;&lt;/td&gt;
                                &lt;td&gt;样品材料名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                                &lt;td&gt;&#39;,materialName,&#39;/&#39;,grades,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;材料热处理状态&lt;br&gt;Heat Treating Condition&lt;/td&gt;
                                &lt;td&gt;&#39;,heatCondition,&#39;&lt;/td&gt;
                                &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                                &lt;td&gt;&#39;,batchNo,&#39;&lt;/td&gt;				
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                                &lt;td&gt;&#39;,quantity,&#39;&lt;/td&gt;
                                &lt;td&gt;样品编号&lt;br&gt;Specimen Number&lt;/td&gt;
                                &lt;td&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF180), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF290), &#39;&#39;)
                INTO testItem, testStandard,testPurpose,testUse
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                                &lt;td&gt;
                                    试验及技术要求（检测项目、 检测标准、检测目的及用途等）&lt;br&gt;
                        Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;height: 85px; text-align: left&quot;&gt;
                                注：提供失效样品原材料合格证、样品制造文件、产品安装过程记录、运行工况、运行记录等&lt;br&gt;
                                检测项目：&#39;,testItem,&#39;&lt;br&gt;
                                检测标准：&#39;,testStandard,&#39;&lt;br&gt;
                                检测目的：&#39;,testPurpose,&#39;&lt;br&gt;
                                检测用途：&#39;,testUse ,&#39;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                FETCH cur_1 INTO materialID ,specimenName ,thicknessDiameter ,materialType,
                materialName ,grades ,heatCondition,batchNo ,quantity ,specimenNumber ;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;样品信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品名称&lt;br&gt;Specimen Name&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;样品类型&lt;br&gt;Type&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;样品材料名称/牌号&lt;br&gt;Material/Grades&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态&lt;br&gt;Heat Treating Condition&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;材料炉批号&lt;br&gt;Heat No./Batch No.&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;样品数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                            &lt;td&gt;样品编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                
                &lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;试验要求&lt;br&gt;Task&lt;/td&gt;
                            &lt;td&gt;
                                试验及技术要求（检测项目、 检测标准、检测目的及用途等）&lt;br&gt;
                                Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;height: 85px;&quot;&gt;
                                注：提供失效样品原材料合格证、样品制造文件、产品安装过程记录、运行工况、运行记录等&lt;br&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;;
                
        END IF;
        SET htmlOrder3 = 
        &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*------------------------------------------------------------------------------------------------------------------------*/
    -- 12、结构强度测试委托单
    ELSEIF orderType = 12 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 邮寄地址
        DECLARE postalAddress VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收样日期
        DECLARE receivedOn VARCHAR(255);
        -- 要求完成日期
        DECLARE finishBefore VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 试验件后处理
        DECLARE afterTest VARCHAR(255);
        -- 取报告方式
        DECLARE reportPickUp VARCHAR(255);
        -- 试验件序号
        DECLARE sampleID VARCHAR(255);
        -- 试验件名称
        DECLARE sampleName VARCHAR(255);
        -- 试验件编号
        DECLARE sampleNumber VARCHAR(255);
        -- 材料类型
        DECLARE materialsType VARCHAR(255);
        -- 生产商名称
        DECLARE manufacturer VARCHAR(255);
        -- 产品批号
        DECLARE batchNumber VARCHAR(255);
        -- 其他需要
        DECLARE otherDescription VARCHAR(255);
        -- 判断试验件是否存在
        DECLARE isSampleExist INT;
        -- 试验依据
        DECLARE testBasis VARCHAR(255);
        -- 测试项目
        DECLARE testItem VARCHAR(255);
        -- 载荷加载方式
        DECLARE loadMode VARCHAR(255);
        -- 载荷控制方式
        DECLARE loadControl VARCHAR(255);
        -- 试验件安装要求和安装方案
        DECLARE installScheme VARCHAR(255);
        -- 夹具信息
        DECLARE fixtureInfo VARCHAR(255);
        -- 试验环境
        DECLARE environment VARCHAR(255);
        -- 应变片粘贴方案和采集要求
        DECLARE strainGauge VARCHAR(255);
        -- 试验过程影像采集要求
        DECLARE imageAcquisition VARCHAR(255);
        -- 其他要求
        DECLARE otherRequirements VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 试验件游标定义
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR SELECT
        IFNULL(SKF137,&#39;&#39;), IFNULL(SKF138, &#39;&#39;) ,IFNULL(SKF280, &#39;&#39;),
        IFNULL(SKF151,&#39;&#39;), IFNULL(SKF423, &#39;&#39;), IFNULL(SKF424, &#39;&#39;),
        IFNULL(SKF146, &#39;&#39;) FROM SKT9 WHERE SKF362 = orderCode
        AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 委托单主表信息
        SELECT  IFNULL(SKF69, &#39;&#39;), IFNULL(SKF87, &#39;&#39;), IFNULL(SKF71 ,&#39;&#39;),
        IFNULL(SKF72, &#39;&#39;),IFNULL(SKF77, &#39;&#39;), IFNULL(SKF79,&#39;&#39;),
        IFNULL(SKF80, &#39;&#39;),IFNULL(SKF81,&#39;&#39;),IFNULL(SKF82,&#39;&#39;),
        IFNULL(SKF88, &#39;&#39;),IFNULL(SKF75,&#39;&#39;) INTO 
        client ,postalAddress ,contact ,contactNumber ,taskName ,
        taskNumber ,receivedOn ,finishBefore ,agreedDate ,afterTest ,
        reportPickUp FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(&#39;&lt;!DOCTYPE html&gt;
                &lt;html&gt;
                &lt;head&gt;
                    &lt;meta charset=&quot;gb2312&quot;&gt;
                    &lt;title&gt;结构强度检测委托单&lt;/title&gt;
                    &lt;style type=&quot;text/css&quot;&gt;
                        td&#123;
                            font-size: 18px;
                            text-align: left;
                            padding-top: 10px;
                            padding-bottom: 0px;
                        &#125;
                        table&#123;
                            width: 100%;
                            border-collapse: collapse;
                            border: 1px solid;
                            margin-bottom: 10px;
                            margin-top: 5px;
                        &#125;
                        .table_1&#123;
                            border: 1px dashed;
                            text-align: left;
                            width: 100%;
                            font-size: 9pt;
                        &#125;
                        .label_1&#123;
                            text-align: left;
                            font-size: 18px;
                            font-weight: 600;
                            text-decoration: underline;
                        &#125;
                        .lable_2&#123;
                            text-align: left;
                            font-size: 18px;
                            font-weight: 500;
                            background-color: yellow;
                        &#125;
                        .td_1&#123;
                            width: 25%;
                            text-align: left;
                        &#125;
                        .td_1_bottomLine&#123;
                            width: 25%;
                            border-bottom: 1px solid;
                            text-align: left;
                        &#125;
                        .td_2_bottomLine&#123;
                            width: 75%;
                            border-bottom: 1px solid;
                            text-align: left;
                        &#125;
                    &lt;/style&gt;
                &lt;/head&gt;
                &lt;body&gt;
                    &lt;table  class=&quot;table_1&quot; width=&quot;100%&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;td&gt;
                                请将表格中以“*”标记的项目填写完整后用电子邮件发送该表格，并为所提供的任何潜在有害物质提供一份MSDS/GHS。我们将在收&lt;br&gt;
                                到您的样品后，向您发送电子邮件，确认收样。&lt;br&gt;
                                Please fill out the items with “*” in this form and email this form to us including an MSDS/GHS for any potentially hazardous materials &lt;br&gt;
                                submitted. You will receive an emailed confirmation after your samples have been received.
                            &lt;/td&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                    &lt;label class=&quot;label_1&quot;&gt;委托信息 - Request info.&lt;/label&gt;
                    &lt;table  cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*委托单位 Client：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;  colspan=&quot;3&quot;&gt;&#39;,client,&#39;&lt;/td&gt;	
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*邮寄地址 Postal Address：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot; colspan=&quot;3&quot;&gt;&#39;,postalAddress,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*联系人 Contact：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,contact,&#39;&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*联系方式 Contact Number：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,contactNumber,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                    &lt;table&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;任务名称 Task Name：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;任务编号 Task Number：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;收样日期 Received On：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,receivedOn,&#39;&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*要求完成日期 Finish Before：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,finishBefore,&#39;&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;商定完成日期Agreed Date：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                            &lt;/tr&gt;&#39;);
        -- 试验件后处理部分
        IF afterTest = &#39;放弃&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;&lt;tr&gt;
                        &lt;td class=&quot;td_1&quot;&gt;*试验件后处理 After Test：&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;放弃&quot; checked=&quot;checked&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSEIF afterTest = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;&lt;tr&gt;
                        &lt;td class=&quot;td_1&quot;&gt;*试验件后处理 After Test：&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;放弃&quot; &gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSEIF afterTest = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;&lt;tr&gt;
                        &lt;td class=&quot;td_1&quot;&gt;*试验件后处理 After Test：&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;放弃&quot; &gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        ELSE 
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;&lt;tr&gt;
                        &lt;td class=&quot;td_1&quot;&gt;*试验件后处理 After Test：&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;放弃&quot;&gt;放弃 Give up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                        &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                    &lt;/tr&gt;&#39;);
        END IF;
        -- 取报告方式部分
        IF reportPickUp = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
                &#39;			&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*取报告方式 Report Pick up：&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取 Self-pick up&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;&#39;);
        ELSEIF reportPickUp = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
                &#39;			&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*取报告方式 Report Pick up：&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot; checked=&quot;checked&quot;&gt;传真 Fax&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;&#39;);
        ELSEIF reportPickUp = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
                &#39;			&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*取报告方式 Report Pick up：&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot; checked=&quot;checked&quot;&gt;邮寄 Post&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1, 
                &#39;			&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*取报告方式 Report Pick up：&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;自取&quot;&gt;自取 Self-pick up&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;传真&quot;&gt;传真 Fax&lt;/td&gt;
                                &lt;td class=&quot;td_1&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; value=&quot;邮寄&quot;&gt;邮寄 Post&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;&#39;);
        END IF;
        -- 判断试验件是否存在
        SELECT COUNT(SKF137) INTO isSampleExist FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF isSampleExist &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO sampleID ,sampleName ,sampleNumber ,materialsType ,manufacturer ,
            batchNumber ,otherDescription;
            WHILE done != 1 DO
                SELECT IFNULL(GROUP_CONCAT(SKF179), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF415), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF416), &#39;&#39;),IFNULL(GROUP_CONCAT(SKF417), &#39;&#39;) , IFNULL(GROUP_CONCAT(SKF351), &#39;&#39;), 
                IFNULL(GROUP_CONCAT(SKF173), &#39;&#39;),IFNULL(GROUP_CONCAT(SKF418), &#39;&#39;),IFNULL(GROUP_CONCAT(SKF419), &#39;&#39;), 
                IFNULL(GROUP_CONCAT(SKF186), &#39;&#39;) INTO 
                testBasis, testItem ,loadMode , 
                loadControl,installScheme ,fixtureInfo ,
                environment ,strainGauge ,imageAcquisition ,
                otherRequirements 
                FROM SKT10 WHERE SKF388 = sampleID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;	&lt;label class=&quot;label_1&quot;&gt;试验件基本信息 Specimen info.&lt;/label&gt;
                        &lt;table&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1&quot;&gt;试验件名称：&lt;/td&gt;
                                    &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,sampleName,&#39;&lt;/td&gt;
                                    &lt;td class=&quot;td_1&quot;&gt;*试验件编号 Sample Number：&lt;/td&gt;
                                    &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,sampleNumber,&#39;&lt;/td&gt;
                                &lt;/tr&gt;&#39;);
                IF materialsType = &#39;金属&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*材料类型 Materals type：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;金属&quot; checked=&quot;checked&quot;&gt;金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;非金属&quot;&gt;非金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;其他&quot;&gt;其他
                                &lt;/td&gt;
                        &lt;/tr&gt;&#39;);
                ELSEIF materialsType = &#39;非金属&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*材料类型 Materals type：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;金属&quot;&gt;金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;非金属&quot; checked=&quot;checked&quot;&gt;非金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;其他&quot;&gt;其他
                                &lt;/td&gt;
                        &lt;/tr&gt;&#39;);
                ELSEIF materialsType = &#39;其他&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*材料类型 Materals type：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;金属&quot;&gt;金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;非金属&quot;&gt;非金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;其他&quot; checked=&quot;checked&quot;&gt;其他
                                &lt;/td&gt;
                        &lt;/tr&gt;&#39;);
                ELSE 
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                &lt;td class=&quot;td_1&quot;&gt;*材料类型 Materals type：&lt;/td&gt;
                                &lt;td class=&quot;td_1_bottomLine&quot;&gt;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;金属&quot;&gt;金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;非金属&quot;&gt;非金属
                                    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;其他&quot;&gt;其他
                                &lt;/td&gt;
                        &lt;/tr&gt;&#39;);
                END IF;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;				&lt;tr&gt;
                                    &lt;td class=&quot;td_1&quot;&gt;*生产商名称 Manufacturer：&lt;/td&gt;
                                    &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,manufacturer,&#39;&lt;/td&gt;
                                    &lt;td class=&quot;td_1&quot;&gt;*产品批号 Batch/Lot Number：&lt;/td&gt;
                                    &lt;td class=&quot;td_1_bottomLine&quot;&gt;&#39;,batchNumber,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1&quot;&gt;其他需要在检测报告中说明的试验件信息：&lt;/td&gt;
                                    &lt;td class=&quot;td_1_bottomLine&quot; colspan=&quot;3&quot;&gt;&#39;,otherDescription,&#39;&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;label class=&quot;label_1&quot;&gt;试验要求 - Test Requirements&lt;/label&gt;
                            &lt;table&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*试验依据（提供试验大纲）：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,testBasis,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*测试项目：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,testItem,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                IF loadMode LIKE &#39;%连续加载%&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;								
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*载荷加载方式：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;连续加载；&quot; checked=&quot;checked&quot;&gt;连续加载；
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;分级加载（需提级加载步骤）&quot;&gt;分级加载（需提级加载步骤）
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                ELSEIF loadMode LIKE &#39;%分级加载%&#39; THEN
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;								
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*载荷加载方式：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;连续加载；&quot;&gt;连续加载；
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;分级加载（需提级加载步骤）&quot;  checked=&quot;checked&quot;&gt;分级加载（需提级加载步骤）
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                ELSE
                    SET htmlOrder2 = 
                    CONCAT(htmlOrder2,
                        &#39;								
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*载荷加载方式：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;连续加载；&quot;&gt;连续加载；
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;分级加载（需提级加载步骤）&quot;&gt;分级加载（需提级加载步骤）
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                END IF;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*载荷控制方式：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,loadControl,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*试验件安装要求和安装方案：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,installScheme,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                IF fixtureInfo = &#39;已有&#39; THEN
                    SET htmlOrder2 =
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*夹具信息 Fixture  Info.：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot; checked=&quot;checked&quot;&gt;已有
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot;&gt;新制
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot;&gt;客户提供
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInfo = &#39;新制&#39; THEN
                    SET htmlOrder2 =
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*夹具信息 Fixture  Info.：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot;&gt;已有
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot; checked=&quot;checked&quot;&gt;新制
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot;&gt;客户提供
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                ELSEIF fixtureInfo = &#39;客户提供&#39; THEN
                    SET htmlOrder2 =
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*夹具信息 Fixture  Info.：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot;&gt;已有
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot;&gt;新制
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot; checked=&quot;checked&quot;&gt;客户提供
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                ELSE 
                    SET htmlOrder2 =
                    CONCAT(htmlOrder2,
                        &#39;&lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*夹具信息 Fixture  Info.：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot;&gt;已有
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot;&gt;新制
                                            &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot;&gt;客户提供
                                        &lt;/td&gt;
                                    &lt;/tr&gt;&#39;);
                END IF;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,				
                &#39;					&lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*试验环境 Environment：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,environment,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*应变黏贴方案和采集要求：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,strainGauge,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*试验过程影像采集要求：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,imageAcquisition,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1&quot;&gt;*其他要求Other Requirements：&lt;/td&gt;
                                        &lt;td class=&quot;td_2_bottomLine&quot;&gt;&#39;,otherRequirements,&#39;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td colspan=&quot;2&quot;&gt;&lt;h5 class=&quot;lable_2&quot;&gt;注：具体大纲方案要求等请以附件形式附在委托单后。&lt;/h5&gt;&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;&#39;);
                FETCH cur_1 INTO sampleID ,sampleName ,sampleNumber ,materialsType ,manufacturer ,
                batchNumber ,otherDescription;
            END WHILE;
            CLOSE cur_1;
        ELSE
            SET htmlOrder2 = 
            &#39;&lt;label class=&quot;label_1&quot;&gt;试验件基本信息 Specimen info.&lt;/label&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;试验件名称：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot;&gt;&lt;/td&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*试验件编号 Sample Number：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*材料类型 Materals type：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;金属&quot;&gt;金属
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;非金属&quot;&gt;非金属
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;其他&quot;&gt;其他
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*生产商名称 Manufacturer：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot;&gt;&lt;/td&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*产品批号 Batch/Lot Number：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;其他需要在检测报告中说明的试验件信息：&lt;/td&gt;
                            &lt;td class=&quot;td_1_bottomLine&quot; colspan=&quot;3&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;label class=&quot;label_1&quot;&gt;试验要求 - Test Requirements&lt;/label&gt;
                &lt;table&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*试验依据（提供试验大纲）：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*测试项目：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*载荷加载方式：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;连续加载；&quot;&gt;连续加载；
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;分级加载（需提级加载步骤）&quot;&gt;分级加载（需提级加载步骤）
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*载荷控制方式：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;力控 N/min；&amp;nbsp;&amp;nbsp;&amp;nbsp;位控 mm/min&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*试验件安装要求和安装方案：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*夹具信息 Fix Info.：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;已有&quot;&gt;已有
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;新制&quot;&gt;新制
                                &lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;客户提供&quot;&gt;客户提供
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*试验环境 Environment：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*应变黏贴方案和采集要求：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*试验过程影像采集要求：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td class=&quot;td_1&quot;&gt;*其他要求Other Requirements：&lt;/td&gt;
                            &lt;td class=&quot;td_2_bottomLine&quot;&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td colspan=&quot;2&quot;&gt;&lt;label class=&quot;lable_2&quot;&gt;注：具体大纲方案要求等请以附件形式附在委托单后。&lt;/label&gt;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
            &#39;	&lt;table border=&quot;1&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td&gt;
                            委托方保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.&lt;br&gt;
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
            &lt;table border=&quot;1&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td width=&quot;50%&quot; style=&quot;font-size: 18px;font-weight: 600;text-decoration: underline; height: 100px; vertical-align: top;text-align: center;&quot;&gt;
                            委托方代表 - Client Signature / Date:
                        &lt;/td&gt;
                        &lt;td style=&quot;font-size: 18px;font-weight: 600;text-decoration: underline; height: 100px;vertical-align: top;text-align: center;&quot;&gt;
                            上航检测代表 - SAMST Signature / Date:
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    /*----------------------------------------------------------------------------------------------------------------*/
    -- 13、紧固件性能测试委托单
    ELSEIF orderType = 13 THEN
    BEGIN
        -- 委托单位
        DECLARE client VARCHAR(255);
        -- 联系人
        DECLARE contact VARCHAR(255);
        -- 地址
        DECLARE address VARCHAR(255);
        -- 联系方式
        DECLARE contactNumber VARCHAR(255);
        -- 样品处理
        DECLARE productHandling VARCHAR(255);
        -- 样品处理邮寄地址
        DECLARE productPostalAddress VARCHAR(255);
        -- 报告处理
        DECLARE reportHandling VARCHAR(255);
        -- 报告处理邮寄地址
        DECLARE reportPostalAddress VARCHAR(255);
        -- 任务名称
        DECLARE taskName VARCHAR(255);
        -- 项目令号
        DECLARE projectNumber VARCHAR(255);
        -- 任务编号
        DECLARE taskNumber VARCHAR(255);
        -- 收料日期
        DECLARE receivedDate VARCHAR(255);
        -- 要求完成日期
        DECLARE requiredDate VARCHAR(255);
        -- 商定完成日期
        DECLARE agreedDate VARCHAR(255);
        -- 材料ID
        DECLARE materialID VARCHAR(255);
        -- 样品名称
        DECLARE specimenName VARCHAR(255);
        -- 样品规格
        DECLARE thicknessDiameter VARCHAR(255);
        -- 样品材料名称
        DECLARE materialName VARCHAR(255);
        -- 牌号
        DECLARE grades VARCHAR(255);	
        -- 材料批号
        DECLARE batchNo VARCHAR(255);
        -- 材料热处理状态
        DECLARE heatCondition VARCHAR(255);
        -- 成型工艺
        DECLARE process VARCHAR(255);
        -- 技术状态
        DECLARE technicalState VARCHAR(255);
        -- 试样数量
        DECLARE quantity VARCHAR(255);
        -- 样品编号
        DECLARE specimenNumber VARCHAR(255);
        -- 材料是否存在
        DECLARE countMaterial INT;
        -- 检测项目
        DECLARE testItem VARCHAR(255);
        -- 检测标准
        DECLARE testStandard VARCHAR(255);
        -- 加载及测量参数
        DECLARE loadParameters VARCHAR(255);
        -- 试验环境
        DECLARE environment VARCHAR(255);
        -- 拼接部分定义
        -- 存放HTML
        DECLARE htmlMain TEXT DEFAULT &#39;&#39;;
        -- 存放HTML拼接的订单前半部分
        DECLARE htmlOrder1 TEXT DEFAULT &#39;&#39;;
        -- 存放材料、任务要求部分
        DECLARE htmlOrder2 TEXT DEFAULT &#39;&#39;;
        -- 存放后半部分
        DECLARE htmlOrder3 TEXT DEFAULT &#39;&#39;;
        -- 材料表游标
        DECLARE done INT DEFAULT 0;
        DECLARE cur_1 CURSOR FOR
        SELECT IFNULL(SKF137, &#39;&#39;), IFNULL(SKF281, &#39;&#39;), IFNULL(SKF283, &#39;&#39;),
        IFNULL(SKF138, &#39;&#39;), IFNULL(SKF139, &#39;&#39;), IFNULL(SKF142, &#39;&#39;), IFNULL(SKF143, &#39;&#39;),
        IFNULL(SKF278, &#39;&#39;), IFNULL(SKF144, &#39;&#39;),IFNULL(SKF150, &#39;&#39;),IFNULL(SKF280, &#39;&#39;)
        FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;
        -- 获取报告的基础信息
        SELECT IFNULL(SKF69, &#39;&#39;), IFNULL(SKF71, &#39;&#39;), IFNULL(SKF70, &#39;&#39;), IFNULL(SKF72, &#39;&#39;),
        IFNULL(SKF73, &#39;&#39;), IFNULL(SKF74, &#39;&#39;),IFNULL(SKF75, &#39;&#39;), IFNULL(SKF76, &#39;&#39;),
        IFNULL(SKF77, &#39;&#39;), IFNULL(SKF78, &#39;&#39;), IFNULL(SKF79, &#39;&#39;), IFNULL(SKF80, &#39;&#39;),
        IFNULL(SKF81, &#39;&#39;), IFNULL(SKF82, &#39;&#39;)  INTO 
        client, contact, address, contactNumber,  
        productHandling, productPostalAddress,reportHandling,reportPostalAddress,
        taskName, projectNumber, taskNumber, receivedDate, 
        requiredDate, agreedDate
        FROM SKT8 WHERE SKF68 = orderCode;
        SET htmlOrder1 = 
        CONCAT(
            &#39;&lt;!DOCTYPE html&gt;
            &lt;html&gt;
            &lt;head&gt;
                &lt;meta charset=&quot;gb2312&quot;&gt;
                &lt;title&gt;紧固件性能检测委托单&lt;/title&gt;
                &lt;style type=&quot;text/css&quot;&gt;
                    body&#123;
                        font-size: 18px;
                        text-align: center;
                    &#125;
                    table&#123;
                        width: 100%;
                    &#125;
                    .td_1_checkbox&#123;
                        width: 25%;
                    &#125;
                    .table_1_checkbox&#123;
                        font-size: 18px;
                    &#125;
                    .table_NoTopBorder&#123;
                        border-top: 0px;
                    &#125;
                &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;table border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;委托单位&lt;br&gt;Client&lt;/td&gt;
                            &lt;td style=&quot;width: 40%;&quot;&gt;&#39;,client ,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;联系人&lt;br&gt;Contact&lt;/td&gt;
                            &lt;td&gt;&#39;,contact ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;地址&lt;br&gt;Address&lt;/td&gt;
                            &lt;td&gt;&#39;,address ,&#39;&lt;/td&gt;
                            &lt;td&gt;联系方式&lt;br&gt;Contact Number&lt;/td&gt;
                            &lt;td&gt;&#39;,contactNumber ,&#39;&lt;/td&gt;
                        &lt;/tr&gt;&#39;);
        IF productHandling = &#39;委托处理&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot; checked=&quot;checked&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSEIF productHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot; checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,productPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                    &#39;&lt;tr&gt;
                    &lt;td class=&quot;td_top1_1&quot; style=&quot;width: 20%&quot;&gt;样品处理&lt;br&gt;Handling of Specimens&lt;/td&gt;
                    &lt;td colspan=&quot;3&quot;&gt;
                        &lt;table class=&quot;table_1_checkbox&quot;&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;委托处理&quot; value=&quot;委托处理&quot;&gt;委托处理&lt;br&gt;Commissioned Handling&lt;/td&gt;
                                    &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                    &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;&#39;);
        END IF;
        IF reportHandling = &#39;自取&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot; checked=&quot;checked&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;传真&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot; checked=&quot;checked&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSEIF reportHandling = &#39;邮寄&#39; THEN
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;  checked=&quot;checked&quot;&gt;邮寄（邮寄地址）&#39;,reportPostalAddress,&#39;&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        ELSE
            SET htmlOrder1 = 
            CONCAT(htmlOrder1,
                &#39;	&lt;tr&gt;
                        &lt;td&gt;取报告方式&lt;br&gt;Report pick up&lt;/td&gt;
                        &lt;td colspan=&quot;3&quot;&gt;
                            &lt;table class=&quot;table_1_checkbox&quot;&gt;
                                &lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;自取&quot; value=&quot;自取&quot;&gt;自取&lt;br&gt;Self-pick up&lt;/td&gt;
                                        &lt;td class=&quot;td_1_checkbox&quot;&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;传真（号码）&quot; value=&quot;传真（号码）&quot;&gt;传真（号码）&lt;br&gt;Fax（Number）&lt;/td&gt;
                                        &lt;td&gt;&lt;input type=&quot;checkbox&quot; disabled=&quot;disabled&quot; name=&quot;邮寄（邮寄地址）&quot; value=&quot;邮寄（邮寄地址）&quot;&gt;邮寄（邮寄地址）&lt;br&gt;Post (Postal Address)&lt;/td&gt;
                                    &lt;/tr&gt;
                                &lt;/tbody&gt;
                            &lt;/table&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        END IF;
        SET htmlOrder1 = 
        CONCAT(htmlOrder1,
        &#39;	&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务名称&lt;br&gt;Task Name&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,taskName,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;项目令号&lt;br&gt;Project Number&lt;/td&gt;
                        &lt;td style=&quot;width: 13%;&quot;&gt;&#39;,projectNumber,&#39;&lt;/td&gt;
                        &lt;td style=&quot;width: 20%;&quot;&gt;任务编号&lt;br&gt;Task Number&lt;/td&gt;
                        &lt;td&gt;&#39;,taskNumber,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td&gt;收样日期&lt;br&gt;Received Date&lt;/td&gt;
                        &lt;td&gt;&#39;,receivedDate,&#39;&lt;/td&gt;
                        &lt;td&gt;要求完成日期&lt;br&gt;Required Date&lt;/td&gt;
                        &lt;td&gt;&#39;,requiredDate,&#39;&lt;/td&gt;
                        &lt;td&gt;商定完成日期&lt;br&gt;Agreed Date&lt;/td&gt;
                        &lt;td&gt;&#39;,agreedDate,&#39;&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;&#39;);
        -- 判断材料表是否存在
        SELECT COUNT(SKF137) INTO countMaterial FROM SKT9 WHERE SKF362 = orderCode AND SKF524 != 1;
        IF countMaterial &gt; 0 THEN
            OPEN cur_1;
            FETCH cur_1 INTO materialID ,specimenName ,thicknessDiameter ,materialName ,
            grades ,batchNo ,heatCondition, process,technicalState ,quantity ,specimenNumber;
            WHILE done != 1 DO
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;样品信息&lt;br&gt;Material&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品名称&lt;br&gt;Specimen Name&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;&#39;,specimenName,&#39;&lt;/td&gt;
                            &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                            &lt;td&gt;&#39;,thicknessDiameter,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;样品材料名称/牌号&lt;br&gt;Materials/Grades&lt;/td&gt;
                            &lt;td&gt;&#39;,materialName,&#39;/&#39;,grades,&#39;&lt;/td&gt;
                            &lt;td&gt;材料炉批号&lt;br&gt;Batch No.&lt;/td&gt;
                            &lt;td&gt;&#39;,batchNo,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Condition/Process&lt;/td&gt;
                            &lt;td&gt;&#39;,heatCondition,&#39;/&#39;,process,&#39;&lt;/td&gt;
                            &lt;td&gt;技术状态&lt;br&gt;Technical State&lt;/td&gt;
                            &lt;td&gt;&#39;,technicalState,&#39;&lt;/td&gt;				
                        &lt;/tr&gt;
                        &lt;tr&gt;
                            &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                            &lt;td&gt;&#39;,quantity,&#39;&lt;/td&gt;
                            &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                            &lt;td&gt;&#39;,specimenNumber,&#39;&lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;&#39;);
                -- 获取任务表信息
                SELECT IFNULL(GROUP_CONCAT(SKF175), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF174), &#39;&#39;),
                IFNULL(GROUP_CONCAT(SKF187), &#39;&#39;), IFNULL(GROUP_CONCAT(SKF173), &#39;&#39;)
                INTO testItem,testStandard,loadParameters,environment
                FROM SKT10 WHERE SKF388 = materialID;
                SET htmlOrder2 = 
                CONCAT(htmlOrder2,
                    &#39;&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                                &lt;td&gt;
                                    试验及技术要求（检测项目, 检测标准, 加载及测量参数, 试验环境等）&lt;br&gt;
                                    Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                    
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;height: 85px; text-align: left;&quot;&gt;
                                    检测项目： &#39;,testItem,&#39;&lt;br&gt;
                                    检测标准： &#39;,testStandard,&#39;&lt;br&gt;
                                    加载及测量参数： &#39;,loadParameters,&#39;&lt;br&gt;
                                    试验环境： &#39;,environment,&#39;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;);
                FETCH cur_1 INTO materialID ,specimenName ,thicknessDiameter ,materialName ,
                grades ,batchNo ,heatCondition, process,technicalState ,quantity ,specimenNumber;
            END WHILE;
        ELSE
            SET htmlOrder2 =
            &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot;  rowspan=&quot;4&quot;&gt;样品信息&lt;br&gt;Material&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品名称&lt;br&gt;Specimen Name&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;&lt;/td&gt;
                                &lt;td style=&quot;width: 20%;&quot;&gt;样品规格&lt;br&gt;Thickness or Diameter&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;样品材料名称/牌号&lt;br&gt;Materials/Grades&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                                &lt;td&gt;材料炉批号&lt;br&gt;Batch No.&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;材料热处理状态/成型工艺&lt;br&gt;Condition/Process&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                                &lt;td&gt;技术状态&lt;br&gt;Technical State&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;				
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;试样数量&lt;br&gt;Quantity&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                                &lt;td&gt;试样编号&lt;br&gt;Specimen Number&lt;/td&gt;
                                &lt;td&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                    
                    &lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                        &lt;tbody&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;width: 20%;&quot; rowspan=&quot;2&quot;&gt;任务要求&lt;br&gt;Task&lt;/td&gt;
                                &lt;td&gt;
                                    试验及技术要求（检测项目, 检测标准, 加载及测量参数, 试验环境等）&lt;br&gt;
                                    Test and Technical Requirements (Testing Item, Standard, Loading and Measurement Parameters, Environment etc.)
                    
                                &lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td style=&quot;height: 85px; text-align: left;&quot;&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;&#39;;
        END IF;
        SET htmlOrder3 = 
        &#39;		&lt;table class=&quot;table_NoTopBorder&quot; border=&quot;1&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            委托单位代表 Client：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;text-align: left;&quot; colspan=&quot;2&quot;&gt;
                            承制单位代表 Undertaking Unit：&lt;br&gt;
                            签字 Signature：&lt;br&gt;
                            日期 Date：
                        &lt;/td&gt;
                    &lt;/tr&gt;
                    &lt;tr&gt;
                        &lt;td style=&quot;width: 10%;&quot;&gt;
                            承诺&lt;br&gt;
                            Promise
                        &lt;/td&gt;
                        &lt;td style=&quot;text-align: left;&quot;&gt;
                            委托单位保证对所提供的一切资料、实物的真实性负责。&lt;br&gt;
                            本公司保证检测的公正性，对检测数据负责，对委托单位所提供的技术资料保密。&lt;br&gt;
                            The client should be responsible for the truth of all documents and objects provided.
                            Our company guarantees the impartiality of the test, responsible for the accuracy of testing data and confidentiality of technical information provided by the client.
                        &lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/body&gt;
        &lt;/html&gt;&#39;;
        -- 开始拼接最终HTML页面
        SET htmlMain = CONCAT(htmlOrder1,htmlOrder2,htmlOrder3);
        -- 插入到html表
        START TRANSACTION;
            IF htmlMain IS NOT NULL AND htmlMain  != &#39;&#39; THEN
                DELETE FROM SKT32 WHERE SKF571 = orderCode;
                INSERT INTO SKT32 (SKF571, SKF572) VALUE (orderCode, htmlMain);
                SET pReturn = 1;
            ELSE
                -- 设置返回值为0
                SET pReturn = 0;
            END IF;
        COMMIT;
    END;
    -- 委托单类型不存在
    ELSE
        SET pReturn = 0;
    END IF;
END;
</code></pre>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2021/03/06/Mysql-Procedure-HTML-Report/">Mysql-Procedure-HTML-Report</a></p>
        <p><span>Author:</span><a href="/" title="Back to Homepage"></a></p>
        <p><span>Created:</span>2021-03-06, 18:34:58</p>
        <p><span>Updated:</span>2022-11-18, 09:11:42</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2021/03/06/Mysql-Procedure-HTML-Report/" title="Mysql-Procedure-HTML-Report">http://yoursite.com/2021/03/06/Mysql-Procedure-HTML-Report/</a>
            <span class="copy-path" data-clipboard-text="From http://yoursite.com/2021/03/06/Mysql-Procedure-HTML-Report/　　By " title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2021/03/07/Mysql-Usage-Habit/">
                    Mysql-Usage-Habit
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2021/03/06/K8S-Dashboard/">
                    K8S-Dashboard
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mysql-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%8B%BC%E6%8E%A5%E5%A4%9A%E4%B8%AAHTML%E6%8A%A5%E5%91%8A%E8%A1%A8%E6%A0%BC%E6%A1%88%E4%BE%8B"><span class="toc-number">1.</span> <span class="toc-text">Mysql 存储过程拼接多个HTML报告表格案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E5%81%9A%E7%9A%84%E4%BC%98%E5%8C%96%E6%9C%89%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">可以做的优化有：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E4%B8%8B%E4%B8%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="toc-number">1.2.</span> <span class="toc-text">以下为存储过程源代码</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"Mysql-Procedure-HTML-Report　| Sevattal　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2021/03/07/Mysql-Usage-Habit/" title="Pre: Mysql-Usage-Habit">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2021/03/06/K8S-Dashboard/" title="Next: K8S-Dashboard">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/04/03/Linux-OpenSSH-Debain-Update-1/">Linux-OpenSSH-Debain-Update-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/30/Linux-Firewalld-Cmd-1/">Linux-Firewalld-Cmd-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/30/Linux-Disk-And-Dmsetup-1/">Linux-Disk-And-Dmsetup-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/13/Ansible-Base-Copy-Module-1/">Ansible-Base-Copy-Module-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/13/Ansible-Base-Module-1/">Ansible-Base-Module-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/13/Ansible-Base-Variable-1/">Ansible-Base-Variable-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/13/Ansible-Base-1/">Ansible-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/Materialized-View-1/">Materialized-View-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/10/BigLogFile-Cut-1/">BigLogFile-Cut-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/05/Snmp-Base-1/">Snmp-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Linux-Disable-IPV6/">Linux-Disable-IPV6</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/DmDB-Docker-Install/">DmDB-Docker-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-12-Python-Driver/">Neo4j-12-Python-Driver</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-11-Cypher-Function/">Neo4j-11-Cypher-Function</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-10-Update-Data/">Neo4j-10-Update-Data</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-9-Match-Data/">Neo4j-9-Match-Data</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-8-Projection-Filtering/">Neo4j-8-Projection-Filtering</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-7-Pattern/">Neo4j-7-Pattern</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-6-Cypher-Base/">Neo4j-6-Cypher-Base</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-5-BatchUpdate/">Neo4j-5-BatchUpdate</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-4-Net-Driver/">Neo4j-4-Net-Driver</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-3-Cypher-Query/">Neo4j-3-Cypher-Query</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-2-Graph-Theory/">Neo4j-2-Graph-Theory</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Neo4j-1-Window-Install/">Neo4j-1-Window-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/Window-Regedit/">Window-Regedit</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/14/CentOS-9-NetworkManger-1/">CentOS-9-NetworkManger-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/23/Hacking-Tool-Base-1/">Hacking-Tool-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/18/Metasploit-Base-1/">Metasploit-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Script-Kiddies-Base-1/">Script-Kiddies-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Wireshark-Base-3/">Wireshark-Base-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Wireshark-Base-2/">Wireshark-Base-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Wireshark-Base-1/">Wireshark-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/PE-Base-1/">PE-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Dos-Debug-Base-1/">Dos-Debug-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/Linux-Clean-Log-1/">Linux-Clean-Log-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/17/WebSocket-Front-Code-1/">WebSocket-Front-Code-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/16/Nasm-Masm-Differ-1/">Nasm-Masm-Differ-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/16/Oracle-Linux-SqlPlus-Garbled-Code-1/">Oracle-Linux-SqlPlus-Garbled-Code-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/16/Nasm-Masm-Base-1/">Nasm-Masm-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/28/Window-Cmd-Garbled-Code-Resolution-1/">Window-Cmd-Garbled-Code-Resolution-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/26/Oracle-Sys-Guid-Func-1/">Oracle-Sys_Guid-Func-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/26/Oracle-Achive-ORA-00257/">Oracle-Achive-ORA-00257</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/26/Oracle-User-Progress-1/">Oracle-User-Progress-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/26/Oracle-Container-Base-1/">Oracle-Container-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/26/Oracle-Control-File-1/">Oracle-Control-File-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-K8S-Openssl-1/">Linux-K8S-Openssl-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-K8S-CFSSL-1/">Linux-K8S-CFSSL-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-Flannel-1/">Linux-Flannel-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-Calico-1/">Linux-Calico-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-Nginx-Ingress-1/">Linux-Nginx-Ingress-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-ipatables-DNAT-SNAT-1/">Linux-ipatables-DNAT-SNAT-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Linux-ipatables-1/">Linux-ipatables-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Oracle-Rman-Parameter-1/">Oracle-Rman-Parameter-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/07/Sublime-Markdown-1/">Sublime-Markdown-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/06/Jaspersoft-Parameter-1/">Jaspersoft-Parameter-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/06/Jaspersoft-Element-Details-1/">Jaspersoft-Element-Details-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/29/WeiBo-Batch-Delete-1/">WeiBo-Batch-Delete-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/29/Jaspersoft-Char-Trunc-1/">Jaspersoft-Char-Trunc-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/29/Oracle-RedoLog-Restore-1/">Oracle-RedoLog-Restore-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/23/Vue-Bind-Delay-Resolution-1/">Vue-Bind-Delay-Resolution-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/23/Java-Generate-Password-Dict-1/">Java-Generate-Password-Dict-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/23/Vue-Convert-10-To-34-Example-1/">Vue-Convert-10-To-34-Example-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/15/Java-Primordial-Text-File-Handle-1/">Java-Primordial-Text-File-Handle-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/15/Winget-Base-1/">Winget-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/24/Kali-Brute-Force-Wifi-1/">Kali-Brute-Force-Wifi-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/17/Oracle-Func-Table-1/">Oracle-Func-Table-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/17/Oracle-ORA-03133-ERROR-1/">Oracle-ORA-03133-ERROR-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/14/Jasper-Reports-Server-Install-1/">Jasper-Reports-Server-Install-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/30/Video-Clip-Stick-Point-Base-1/">Video-Clip-Stick-Point-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/30/Video-Clip-Lens-Length-Base-1/">Video-Clip-Lens-Length-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/30/Video-Clip-Structure-Base-1/">Video-Clip-Structure-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/26/FFmpeg-Base-1/">FFmpeg-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/05/Network-NAT-DHCP-PPP-1/">Network-NAT-DHCP-PPP-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/05/Network-Switch-STP-1/">Network-Switch-STP-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/04/Network-Switch-VTP-1/">Network-Switch-VTP-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/04/Network-Switch-VLAN-1/">Network-Switch-VLAN-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/03/Network-Route-ACL-1/">Network-Route-ACL-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/03/Network-Route-EIGRP-1/">Network-Route-EIGRP-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/03/Network-Route-OSPF-2/">Network-Route-OSPF-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/03/Network-Route-OSPF-1/">Network-Route-OSPF-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/02/Network-Route-Rip-1/">Network-Route-Rip-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/02/Network-Route-Base-1/">Network-Route-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/30/Oracle-Listener-1/">Oracle-Listener-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/22/Google-Hacking-Base-1/">Google-Hacking-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/22/Oracle-Job-Base-1/">Oracle-Job-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/21/Linux-Crontab-1/">Linux-Crontab-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/21/Oracle-Window-SqlPlus-Garbled-Code-1/">Oracle-Window-SqlPlus-Garbled-Code-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/21/Docker-Run-Cmd-1/">Docker-Run-Cmd-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Linux-Supervisor-Base-1/">Linux-Supervisor-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Linux-Swap-Add-1/">Linux-Swap-Add-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Oracle-Implementation-Plan-1/">Oracle-Implementation-Plan-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Nmap-Tool-Base-1/">Nmap-Tool-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Sublime3-Case-Switch-1/">Sublime3-Case-Switch-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Oracle-NULL-Value-1/">Oracle-NULL-Value-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Oracle-Enter-Line-Feed-1/">Oracle-Enter-Line-Feed-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/03/19/Oracle-Flashback-1/">Oracle-Flashback-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/28/Oracle-DML-Performance-1/">Oracle-DML-Performance-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/28/Oracle-Trigger-System-1/">Oracle-Trigger-System-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/28/Oracle-Trigger-DDL-1/">Oracle-Trigger-DDL-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/28/Oracle-Trigger-DML-1/">Oracle-Trigger-DML-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/28/Oracle-Trigger-1/">Oracle-Trigger-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/25/VIEW-TRANSFER-PARAMETERS-1/">VIEW-TRANSFER-PARAMETERS-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/21/Oracle-Start-With-Connect-By-1/">Oracle-Start-With-Connect-By-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/02/21/Oracle-Date-Case-1/">Oracle-Date-Case-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/19/Git-Gogs-Window-Install-1/">Git-Gogs-Window-Install-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/14/Hexo-Blog-Change-PC-1/">Hexo-Blog-Change-PC-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/14/Jboss-Cmd-Line-1/">Jboss-Cmd-Line-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/14/Jboss-Standalone-Config-1/">Jboss-Standalone-Config-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/13/Oracle-Table-Information-1/">Oracle-Table-Information-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/13/Git-Server-Supplement-3/">Git-Server-Supplement-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/13/AirTest-Introduction-Config-1/">AirTest-Introduction-Config-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/10/Window-Nirsoft-Tools-1/">Window-Nirsoft-Tools-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/10/SQLite-Introduction-1/">SQLite-Introduction-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/07/Git-Server-Supplement-2/">Git-Server-Supplement-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/07/Report-Data-Type-Conversion-Error-1/">Report-Data-Type-Conversion-Error-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/06/Oracle-ROWNUM-1/">Oracle-ROWNUM-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Jaspersoft-Studio-Hidden-1/">Jaspersoft-Studio-Hidden-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Java-Jboss-EJB-Project-Deploy-1/">Java-Jboss-EJB-Project-Deploy-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Oracle-Create-Table-Case-1/">Oracle-Create-Table-Case-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Oracle-Row-Column-Conversion-1/">Oracle-Row-Column-Conversion-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Oracle-Decode-1/">Oracle-Decode-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Git-Server-Supplement-1/">Git-Server-Supplement-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Oracle-Table-Connection-1/">Oracle-Table-Connection-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/Window-Kill-Process-1/">Window-Kill-Process-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/05/JavaSourceCode-SearchMethod-1/">JavaSourceCode-SearchMethod-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/18/Lightroom-Base-3/">Lightroom-Base-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/18/Lightroom-Base-2/">Lightroom-Base-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/18/Lightroom-Base-1/">Lightroom-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Scrapy-Basics-1/">Scrapy-Basics-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Ireport-Install-1/">Ireport-Install-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Jaspersoft-Studio-Master-Child-Table-2/">Jaspersoft-Studio-Master-Child-Table-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Jaspersoft-Studio-Master-Child-Table-1/">Jaspersoft-Studio-Master-Child-Table-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Jaspersoft-Studio-Install-1/">Jaspersoft-Studio-Install-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Oracle-Type-Table-1/">Oracle-Type-Table-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/04/Oracle-Exists-And-In-1/">Oracle-Exists-And-In-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/12/Linux-Kali-Install-1/">Linux-Kali-Install-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/12/Oracle-19c-Debain-Install/">Oracle-19c-Debain-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/12/Linux-DPKG-BUG-1/">Linux-DPKG-BUG-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/12/SQL-Interview-Questions2/">SQL-Interview-Questions2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/31/Photography-Introduction-1/">Photography-Introduction-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/31/Graduation-Thesis-Guidance-2/">Graduation-Thesis-Guidance-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/22/Graduation-Thesis-Guidance-1/">Graduation-Thesis-Guidance-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/13/Rogue-Software-Process/">Rogue-Software-Process</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/13/House-Lease-Contract-Template/">House-Lease-Contract-Template</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/05/Linux-Start-Fail-1/">Linux-Start-Fail-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/02/JAVA-Thread-Base-8/">JAVA-Thread-Base-8</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/02/JAVA-Thread-Base-7/">JAVA-Thread-Base-7</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/02/JAVA-Thread-Base-6/">JAVA-Thread-Base-6</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/01/JAVA-Thread-Base-5/">JAVA-Thread-Base-5</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/01/JAVA-Thread-Base-4/">JAVA-Thread-Base-4</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/31/JAVA-Thread-Base-3/">JAVA-Thread-Base-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/31/JAVA-Thread-Base-2/">JAVA-Thread-Base-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/31/JAVA-Thread-Base-1/">JAVA-Thread-Base-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/30/JAVA-Actual-Combat-6/">JAVA-Actual-Combat-6</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/28/JAVA-Actual-Combat-5/">JAVA-Actual-Combat-5</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/28/JAVA-Actual-Combat-4/">JAVA-Actual-Combat-4</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/28/JAVA-Actual-Combat-3/">JAVA-Actual-Combat-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/28/JAVA-Actual-Combat-2/">JAVA-Actual-Combat-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/28/JAVA-Actual-Combat-1/">JAVA-Actual-Combat-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/27/Spring-Security-BASE-3/">Spring-Security-BASE-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/27/Spring-Security-BASE-2/">Spring-Security-BASE-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/24/Spring-Security-BASE-1/">Spring-Security-BASE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/24/Netty-BASE-3/">Netty-BASE-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/22/Netty-BASE-2/">Netty-BASE-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/Netty-BASE-1/">Netty-BASE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-8/">SpringBoot2-BASE-8</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-7/">SpringBoot2-BASE-7</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-6/">SpringBoot2-BASE-6</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-5/">SpringBoot2-BASE-5</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-4/">SpringBoot2-BASE-4</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/20/SpringBoot2-BASE-3/">SpringBoot2-BASE-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/19/SpringBoot2-BASE-2/">SpringBoot2-BASE-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/19/SpringBoot2-BASE-1/">SpringBoot2-BASE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-7/">Spring-BASE-7</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-6/">Spring-BASE-6</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-5/">Spring-BASE-5</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-4/">Spring-BASE-4</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-3/">Spring-BASE-3</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-2/">Spring-BASE-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/16/Spring-BASE-1/">Spring-BASE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-Stack-1/">JAVA-Stack-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-Linked-List-1/">JAVA-Linked-List-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-Arrays-Queues-1/">JAVA-Arrays-Queues-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-SE-1/">JAVA-SE-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-Spring-AOP-1/">JAVA-Spring-AOP-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-Spring/">JAVA-Spring</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/12/JAVA-SpringMVC-1/">JAVA-SpringMVC-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/11/JAVA-RabbitMQ-1/">JAVA-RabbitMQ-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/11/SpringCloud-Snowflake-Algorithm/">SpringCloud-Snowflake-Algorithm</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/11/SpringCloud-Alibaba-Seata-1/">SpringCloud-Alibaba-Seata-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/10/SpringCloud-Alibaba-Sentinel-1/">SpringCloud-Alibaba-Sentinel-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/09/SpringCloud-Alibaba-Nacos-1/">SpringCloud-Alibaba-Nacos-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/09/SpringCloud-Alibaba-1/">SpringCloud-Alibaba-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/08/SpringCloud-Sleuth-1/">SpringCloud-Sleuth-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/08/SpringCloud-Stream-1/">SpringCloud-Stream-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/08/SpringCloud-Bus-1/">SpringCloud-Bus-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/08/SpringCloud-Config-1/">SpringCloud-Config-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/07/SpringCloud-GateWay-1/">SpringCloud-GateWay-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/07/SpringCloud-Hystrix-1/">SpringCloud-Hystrix-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/SpringCloud-OpenFeign-1/">SpringCloud-OpenFeign-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/SpringCloud-Ribbon-1/">SpringCloud-Ribbon-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/SpringCloud-RegistrySummary-1/">SpringCloud-RegistrySummary-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/SpringCloud-Consul-1/">SpringCloud-Consul-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/Zookeeper-Command-1/">Zookeeper-Command-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/06/SpringCloud-Zookeeper-1/">SpringCloud-Zookeeper-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/04/SpringCloud-Eureka-1/">SpringCloud-Eureka-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/03/Java-Interview-Questions/">Java-Interview-Questions</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/21/Maven-Import-NotOpenJar/">Maven-Import-NotOpenJar</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/21/OpenFeign-And-Sentinel/">OpenFeign-And-Sentinel</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/21/Nacos-Install/">Nacos-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/21/Apache-JMeter-Simple-Use/">Apache-JMeter-Simple-Use</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/07/Spring-Boot-Start-Extension/">Spring-Boot-Start-Extension</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/07/Spring-Boot-Cycle1/">Spring-Boot-Cycle1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/07/Mysql-Usage-Habit/">Mysql-Usage-Habit</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/06/Mysql-Procedure-HTML-Report/">Mysql-Procedure-HTML-Report</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/06/K8S-Dashboard/">K8S-Dashboard</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/27/K8S-Coredns-1/">K8S-Coredns-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/27/K8S-Flannel/">K8S-Flannel</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/27/Nginx-ShareFile/">Nginx-ShareFile</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/21/Mysql-Install/">Mysql-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/21/K8S-Kubectl-Command/">K8S-Kubectl-Command</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/21/Java-Apache-Maven/">Java-Apache-Maven</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/21/Java-SprintBoot-Error1/">Java-SprintBoot-Error1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/18/K8S-Binary-Install/">K8S-Binary-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/15/Oracle-Clean-Archivelog/">Oracle-Clean-Archivelog</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/15/Docker-Harbor/">Docker-Harbor</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/15/Docker-Compose/">Docker-Compose</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/15/Yaml-Language/">Yaml_Language</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/12/Docker-Network-Operation/">Docker-Network-Operation</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Add-New-Volume/">Docker-Add-New-Volume</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Auto-Start/">Docker-Auto-Start</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Registry/">Docker-Registry</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Dockerfile/">Docker-Dockerfile</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-NetworkMode/">Docker-NetworkMode</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Volume/">Docker-Volume</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-PortMapping/">Docker-PortMapping</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/11/Docker-Command1/">Docker-Command1</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/10/Docker-Mirror-Acceleration/">Docker-Mirror-Acceleration</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/10/Linux-NetworkCard-Rename/">Linux-NetworkCard-Rename</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/06/Rancher-Install/">Rancher-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/06/Hexo-Blog-Character-Escape/">Hexo-Blog-Character-Escape</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/06/Mysql-Procedure-HTML/">Mysql-Procedure-HTML</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/06/Mysql-Procedure-Leave/">Mysql-Procedure-Leave</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/17/UsbEAmHostsEditor/">UsbEAmHostsEditor</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Postgres-Command/">Postgres-Command</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Mysql-Storage-Engine/">Mysql-Storage-Engine</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Elasticsearch-Cluster-Node-Parameters/">Elasticsearch-Cluster-Node-Parameters</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Linux-Elasticsearch-Install/">Linux-Elasticsearch-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Linux-Python-File-Sync/">Linux-Python-File-Sync</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Window-Process/">Window-Process</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/02/Mysql-Lock-1205/">Mysql-Lock-1205</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Hexo-Blog-1/">Hexo-Blog-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Python-SQLalchemy1/">Python-SQLalchemy1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Window-Regedit-Server/">Window-Regedit-Server</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Linux-TinyProxy/">Linux-TinyProxy</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Mysql-Procedure3/">Mysql-Procedure3</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/26/Mysql-Procedure2/">Mysql-Procedure2</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/22/Git-Server/">Git-Server</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/22/Git-Local/">Git-Local</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/22/Mysql-History/">Mysql-History</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/21/Mysql-Procedure1/">Mysql-Procedure1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/21/Mysql-Log-Restore/">Mysql-Log-Restore</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/21/Tomcat-Configuration/">Tomcat-Configuration</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/21/Spring-Boot-Packing/">Spring-Boot-Packing</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/31/Spring-Boot-BestProject/">Spring-Boot-BestProject</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/06/Mysql-Windows-Install/">Mysql-Windows-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/04/MongoDB-Install/">MongoDB-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Oracle-Name-Explain/">Oracle-Name-Explain</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Oracle-LimitConnection/">Oracle-LimitConnection</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Oracle-ConnResource1/">Oracle-ConnResource1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Cluster/">Redis-Cluster</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Sentinel/">Redis-Sentinel</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Part-Copy-Principle/">Redis-Part-Copy-Principle</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Copy-Principle/">Redis-Copy-Principle</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Copy/">Redis-Copy</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Memory-Mode/">Redis-Memory-Mode</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Persistence-Principle/">Redis-Persistence-Principle</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Persistence/">Redis-Persistence</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/02/Redis-Install/">Redis-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/Postgres-PGPool-II/">Postgres-PGPool-II</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/Postgres-Copy/">Postgres-Copy</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/Postgres-Backup/">Postgres-Backup</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/Postgres-Install/">Postgres-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/18/SQL-Interview-Questions1/">SQL-Interview-Questions1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/18/Linux-Update-GCC9-3-0/">Linux-Update-GCC9.3.0</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/18/Mysql-XtraBackup/">Mysql-XtraBackup</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/18/Mysql-MysqlDump/">Mysql-MysqlDump</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/12/Window-USB-Disk/">Window-USB-Disk</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/12/Window-NTP/">Window-NTP</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/12/MongDB-Backup/">MongDB-Backup</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/12/MongDB-Copy-Cluster/">MongDB-Copy-Cluster</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/Oracle-RAC-CmdSimple/">Oracle-RAC-CmdSimple</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/Oracle-RAC1/">Oracle-RAC1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/Oracle-DG2/">Oracle-DG2</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/08/Linux-OpenSSH-Update/">Linux-OpenSSH-Update</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Corosync-Pacemaker-CRM/">Corosync-Pacemaker-CRM</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/CRM-Parameter/">CRM-Parameter</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/CentOS-Mail-Client/">CentOS-Mail-Client</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/CentOS-Mail-Address/">CentOS-Mail-Address</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Backup-RMAN/">Oracle-Backup-RMAN</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Backup-EXP/">Oracle-Backup-EXP</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-DG-Multiple-Nodes/">Oracle-DG-Multiple-Nodes</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Zabbix-Install/">Zabbix-Install</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Linux-NTP/">Linux-NTP</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Other/">Oracle-Patrol-Other</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Security/">Oracle-Patrol-Security</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-CPU-IO-MEM/">Oracle-Patrol-CPU-IO-MEM</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Performance/">Oracle-Patrol-Performance</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Backup/">Oracle-Patrol-Backup</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Use/">Oracle-Patrol-Use</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Patrol-Base/">Oracle-Patrol-Base</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-Fragment/">Oracle-Fragment</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-RAC-Summary/">Oracle-RAC-Summary</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/VMware-ShareDisk/">VMware-ShareDisk</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Oracle-DG1/">Oracle-DG1</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Mariadb-Copy/">Mariadb-Copy</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Linux-SSH/">Linux-SSH</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Linux-DRBD/">Linux-DRBD</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/04/Linux-LVM/">Linux_LVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/03/MyFirstBlog/">MyFirstBlog</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2023 Sevattal
            </div>
            <!--<div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>-->
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        $("a[target=_blank]").removeAttr("target");
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>